import{j as e}from"./query-_HUGc1jU.js";import{r as c}from"./router-CGnu6c2M.js";import{u as M,d as b}from"./index-BlT7jYU2.js";import{d as v,h as T,u as U}from"./firebase-Cf9C3kP7.js";import{F as r,l as m,j as g,A as _,H as I,z as O,N as Y,O as z,P as w,E as D,o as j}from"./ui-BFo-ETor.js";import"./vendor-Dazix4UH.js";const G=()=>{const{user:x}=M(),[C,f]=c.useState(!0),[s,i]=c.useState({personalDetails:{name:"",email:"",phone:"",address:""},familyDetails:{fatherName:"",motherName:"",siblings:""},currentCourses:[],professionalExperience:[],skills:[],projects:[],education:[],mentor:{name:"",email:"",phone:""}});c.useEffect(()=>{(async()=>{if(!x?.uid){f(!1);return}try{const l=v(b,"faculty","CSE_DS","members",x.uid),t=await T(l);if(t.exists()){const d=t.data();i({personalDetails:{name:d.name||"",email:d.email||x.email||"",phone:d.phone||"",address:d.address||""},familyDetails:d.familyDetails||{fatherName:"",motherName:"",siblings:""},currentCourses:Array.isArray(d.currentCourses)?d.currentCourses:[],professionalExperience:Array.isArray(d.professionalExperience)?d.professionalExperience:[],skills:Array.isArray(d.skills)?d.skills:[],projects:Array.isArray(d.projects)?d.projects:[],education:Array.isArray(d.education)?d.education:[],mentor:d.mentor||{name:"",email:"",phone:""}})}}finally{f(!1)}})()},[x]);const[n,E]=c.useState(!1),[N,y]=c.useState(""),[p,u]=c.useState({title:"",description:""}),[o,h]=c.useState({degree:"",university:"",year:""}),A=()=>{i({...s,skills:[...s.skills,N]}),y("")},k=()=>{const a={...p,id:s.projects.length+1};i({...s,projects:[...s.projects,a]}),u({title:"",description:""})},P=()=>{const a={...o,id:s.education.length+1};i({...s,education:[...s.education,a]}),h({degree:"",university:"",year:""})};if(C)return e.jsx("div",{className:"compact-ui min-h-screen bg-gray-50 p-6",children:e.jsxs("div",{className:"max-w-5xl mx-auto space-y-4",children:[e.jsx("div",{className:"bg-white border rounded-md p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 shimmer rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"h-4 shimmer rounded w-1/3 mb-2"}),e.jsx("div",{className:"h-3 shimmer rounded w-1/4"})]})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:Array.from({length:3}).map((a,l)=>e.jsxs("div",{className:"bg-white border rounded-md p-4",children:[e.jsx("div",{className:"w-8 h-8 shimmer rounded-full mx-auto mb-3"}),e.jsx("div",{className:"h-4 shimmer rounded w-1/3 mx-auto mb-2"}),e.jsx("div",{className:"h-3 shimmer rounded w-1/4 mx-auto"})]},l))}),e.jsxs("div",{className:"bg-white border rounded-md p-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-8 h-8 shimmer rounded-full"}),e.jsx("div",{className:"h-4 shimmer rounded w-1/4"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:Array.from({length:4}).map((a,l)=>e.jsx("div",{className:"h-10 shimmer rounded"},l))})]})]})});const S=async()=>{if(!x?.uid)return;const a=v(b,"faculty","CSE_DS","members",x.uid),l={name:s.personalDetails.name,email:s.personalDetails.email,phone:s.personalDetails.phone,address:s.personalDetails.address,familyDetails:s.familyDetails,currentCourses:s.currentCourses,professionalExperience:s.professionalExperience,skills:s.skills,projects:s.projects,education:s.education,mentor:s.mentor};await U(a,l)},F=async()=>{n&&await S(),E(!n)};return e.jsx("div",{className:"compact-ui min-h-screen bg-gray-50",children:e.jsxs("div",{className:"max-w-5xl mx-auto py-6 px-4",children:[e.jsxs("header",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("h1",{className:"text-2xl font-semibold text-gray-900 flex items-center gap-3 mb-1",children:[e.jsx(r,{icon:m,className:"text-blue-600"}),s.personalDetails.name||"Faculty Profile"]}),e.jsxs("p",{className:"text-gray-600 text-sm flex items-center gap-2",children:[e.jsx(r,{icon:g,className:"text-blue-600"}),s.personalDetails.email]})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs("button",{onClick:F,className:"inline-flex items-center gap-2 px-4 py-2 rounded-md border bg-white hover:bg-gray-50 text-sm",children:[e.jsx(r,{icon:n?_:I}),n?"Save Profile":"Edit Profile"]})})]}),e.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-white border rounded-md p-4 text-center",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(r,{icon:O,className:"text-white"})}),e.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-1",children:"Courses"}),e.jsx("p",{className:"text-2xl font-semibold text-blue-600",children:s.currentCourses.length})]}),e.jsxs("div",{className:"bg-white border rounded-md p-4 text-center",children:[e.jsx("div",{className:"w-10 h-10 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(r,{icon:Y,className:"text-white"})}),e.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-1",children:"Skills"}),e.jsx("p",{className:"text-2xl font-semibold text-green-600",children:s.skills.length})]}),e.jsxs("div",{className:"bg-white border rounded-md p-4 text-center",children:[e.jsx("div",{className:"w-10 h-10 bg-pink-500 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(r,{icon:z,className:"text-white"})}),e.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-1",children:"Projects"}),e.jsx("p",{className:"text-2xl font-semibold text-pink-600",children:s.projects.length})]})]}),e.jsxs("div",{className:"bg-white border rounded-md p-4 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-8 h-8 bg-indigo-600 rounded-full flex items-center justify-center",children:e.jsx(r,{icon:m,className:"text-white text-xs"})}),e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Personal Details"})]}),n?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(r,{icon:m,className:"text-indigo-500 w-4"}),e.jsx("input",{type:"text",value:s.personalDetails.name,className:"flex-1 py-2 px-3 rounded-md border focus:ring-2 focus:ring-indigo-500 text-sm",placeholder:"Full Name",onChange:a=>i({...s,personalDetails:{...s.personalDetails,name:a.target.value}})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(r,{icon:g,className:"text-indigo-500 w-4"}),e.jsx("input",{type:"email",value:s.personalDetails.email,className:"flex-1 py-2 px-3 rounded-md border focus:ring-2 focus:ring-indigo-500 text-sm",placeholder:"Email Address",onChange:a=>i({...s,personalDetails:{...s.personalDetails,email:a.target.value}})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(r,{icon:w,className:"text-indigo-500 w-4"}),e.jsx("input",{type:"tel",value:s.personalDetails.phone,className:"flex-1 py-2 px-3 rounded-md border focus:ring-2 focus:ring-indigo-500 text-sm",placeholder:"Phone Number",onChange:a=>i({...s,personalDetails:{...s.personalDetails,phone:a.target.value}})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(r,{icon:D,className:"text-indigo-500 w-4"}),e.jsx("input",{type:"text",value:s.personalDetails.address,className:"flex-1 py-2 px-3 rounded-md border focus:ring-2 focus:ring-indigo-500 text-sm",placeholder:"Address",onChange:a=>i({...s,personalDetails:{...s.personalDetails,address:a.target.value}})})]})]}):e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white rounded-md border",children:[e.jsx(r,{icon:m,className:"text-indigo-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Name"}),e.jsx("p",{className:"font-medium text-gray-700 text-sm",children:s.personalDetails.name||"Not provided"})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white rounded-md border",children:[e.jsx(r,{icon:g,className:"text-indigo-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Email"}),e.jsx("p",{className:"font-medium text-gray-700 text-sm",children:s.personalDetails.email||"Not provided"})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white rounded-md border",children:[e.jsx(r,{icon:w,className:"text-indigo-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Phone"}),e.jsx("p",{className:"font-medium text-gray-700 text-sm",children:s.personalDetails.phone||"Not provided"})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white rounded-md border",children:[e.jsx(r,{icon:D,className:"text-indigo-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Address"}),e.jsx("p",{className:"font-medium text-gray-700 text-sm",children:s.personalDetails.address||"Not provided"})]})]})]})]}),e.jsxs("div",{className:"bg-white border rounded-md p-4 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-8 h-8 bg-emerald-600 rounded-full flex items-center justify-center",children:e.jsx(r,{icon:j,className:"text-white text-xs"})}),e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Family Details"})]}),n?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(r,{icon:m,className:"text-emerald-600 w-4"}),e.jsx("input",{type:"text",value:s.familyDetails.fatherName,className:"flex-1 py-2 px-3 rounded-md border focus:ring-2 focus:ring-emerald-500 text-sm",placeholder:"Father's Name",onChange:a=>i({...s,familyDetails:{...s.familyDetails,fatherName:a.target.value}})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(r,{icon:m,className:"text-emerald-600 w-4"}),e.jsx("input",{type:"text",value:s.familyDetails.motherName,className:"flex-1 py-2 px-3 rounded-md border focus:ring-2 focus:ring-emerald-500 text-sm",placeholder:"Mother's Name",onChange:a=>i({...s,familyDetails:{...s.familyDetails,motherName:a.target.value}})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(r,{icon:j,className:"text-emerald-600 w-4"}),e.jsx("input",{type:"text",value:s.familyDetails.siblings,className:"flex-1 py-2 px-3 rounded-md border focus:ring-2 focus:ring-emerald-500 text-sm",placeholder:"Siblings",onChange:a=>i({...s,familyDetails:{...s.familyDetails,siblings:a.target.value}})})]})]}):e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white rounded-md border",children:[e.jsx(r,{icon:m,className:"text-emerald-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Father's Name"}),e.jsx("p",{className:"font-medium text-gray-700 text-sm",children:s.familyDetails.fatherName||"Not provided"})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white rounded-md border",children:[e.jsx(r,{icon:m,className:"text-emerald-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Mother's Name"}),e.jsx("p",{className:"font-medium text-gray-700 text-sm",children:s.familyDetails.motherName||"Not provided"})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white rounded-md border",children:[e.jsx(r,{icon:j,className:"text-emerald-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Siblings"}),e.jsx("p",{className:"font-medium text-gray-700 text-sm",children:s.familyDetails.siblings||"Not provided"})]})]})]})]}),e.jsxs("div",{className:"bg-white border rounded-md p-4 mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold mb-2 text-gray-900",children:"Current Courses"}),s.currentCourses.map(a=>e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-800",children:a.name}),e.jsxs("p",{className:"text-gray-600 text-sm",children:["Progress: ",a.progress,"%"]})]},a.id))]}),e.jsxs("div",{className:"bg-white border rounded-md p-4 mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold mb-2 text-gray-900",children:"Professional Experience"}),s.professionalExperience.map(a=>e.jsx("div",{className:"mb-4",children:n?e.jsxs(e.Fragment,{children:[e.jsx("input",{type:"text",value:a.jobTitle,className:"w-full py-2 px-3 rounded border mb-2 text-sm",onChange:l=>i({...s,professionalExperience:s.professionalExperience.map(t=>t.id===a.id?{...t,jobTitle:l.target.value}:t)})}),e.jsx("input",{type:"text",value:a.company,className:"w-full py-2 px-3 rounded border mb-2 text-sm",onChange:l=>i({...s,professionalExperience:s.professionalExperience.map(t=>t.id===a.id?{...t,company:l.target.value}:t)})}),e.jsx("input",{type:"text",value:a.duration,className:"w-full py-2 px-3 rounded border mb-2 text-sm",onChange:l=>i({...s,professionalExperience:s.professionalExperience.map(t=>t.id===a.id?{...t,duration:l.target.value}:t)})}),e.jsx("textarea",{value:a.description,className:"w-full py-2 px-3 rounded border mb-2 text-sm",onChange:l=>i({...s,professionalExperience:s.professionalExperience.map(t=>t.id===a.id?{...t,description:l.target.value}:t)})})]}):e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-800",children:a.jobTitle}),e.jsxs("p",{className:"text-gray-600 text-sm",children:[e.jsx("strong",{children:"Company:"})," ",a.company]}),e.jsxs("p",{className:"text-gray-600 text-sm",children:[e.jsx("strong",{children:"Duration:"})," ",a.duration]}),e.jsxs("p",{className:"text-gray-600 text-sm",children:[e.jsx("strong",{children:"Description:"})," ",a.description]})]})},a.id)),n&&e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsx("input",{type:"text",placeholder:"Job Title",className:"w-full py-2 px-3 rounded border mb-2 text-sm"}),e.jsx("input",{type:"text",placeholder:"Company",className:"w-full py-2 px-3 rounded border mb-2 text-sm"}),e.jsx("input",{type:"text",placeholder:"Duration",className:"w-full py-2 px-3 rounded border mb-2 text-sm"}),e.jsx("textarea",{placeholder:"Description",className:"w-full py-2 px-3 rounded border mb-2 text-sm"}),e.jsx("button",{className:"bg-green-600 text-white py-2 px-3 rounded-md text-sm",children:"Add Experience"})]})]}),e.jsxs("div",{className:"bg-white border rounded-md p-4 mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold mb-2 text-gray-900",children:"Skills"}),e.jsx("ul",{className:"list-disc list-inside",children:s.skills.map((a,l)=>e.jsx("li",{className:"text-gray-600 text-sm",children:a},l))}),n&&e.jsxs("div",{className:"flex items-center space-x-2 mt-4",children:[e.jsx("input",{type:"text",value:N,onChange:a=>y(a.target.value),className:"w-full py-2 px-3 rounded border mb-2 text-sm",placeholder:"Add new skill"}),e.jsx("button",{onClick:A,className:"bg-blue-600 text-white py-2 px-3 rounded-md text-sm",children:"Add"})]})]}),e.jsxs("div",{className:"bg-white border rounded-md p-4 mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold mb-2 text-gray-900",children:"Projects"}),s.projects.map(a=>e.jsx("div",{className:"mb-4",children:n?e.jsxs(e.Fragment,{children:[e.jsx("input",{type:"text",value:a.title,className:"w-full py-2 px-3 rounded border mb-2 text-sm",onChange:l=>i({...s,projects:s.projects.map(t=>t.id===a.id?{...t,title:l.target.value}:t)})}),e.jsx("textarea",{value:a.description,className:"w-full py-2 px-3 rounded border mb-2 text-sm",onChange:l=>i({...s,projects:s.projects.map(t=>t.id===a.id?{...t,description:l.target.value}:t)})})]}):e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-800",children:a.title}),e.jsx("p",{className:"text-gray-600 text-sm",children:a.description})]})},a.id)),n&&e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsx("input",{type:"text",value:p.title,onChange:a=>u({...p,title:a.target.value}),placeholder:"Project Title",className:"w-full py-2 px-3 rounded border mb-2 text-sm"}),e.jsx("textarea",{value:p.description,onChange:a=>u({...p,description:a.target.value}),placeholder:"Project Description",className:"w-full py-2 px-3 rounded border mb-2 text-sm"}),e.jsx("button",{onClick:k,className:"bg-green-600 text-white py-2 px-3 rounded-md text-sm",children:"Add Project"})]})]}),e.jsxs("div",{className:"bg-white border rounded-md p-4 mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold mb-2 text-gray-900",children:"Education"}),s.education.map(a=>e.jsx("div",{className:"mb-4",children:n?e.jsxs(e.Fragment,{children:[e.jsx("input",{type:"text",value:a.degree,className:"w-full py-2 px-3 rounded border mb-2 text-sm",onChange:l=>i({...s,education:s.education.map(t=>t.id===a.id?{...t,degree:l.target.value}:t)})}),e.jsx("input",{type:"text",value:a.university,className:"w-full py-2 px-3 rounded border mb-2 text-sm",onChange:l=>i({...s,education:s.education.map(t=>t.id===a.id?{...t,university:l.target.value}:t)})}),e.jsx("input",{type:"text",value:a.year,className:"w-full py-2 px-3 rounded border mb-2 text-sm",onChange:l=>i({...s,education:s.education.map(t=>t.id===a.id?{...t,year:l.target.value}:t)})})]}):e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-800",children:a.degree}),e.jsxs("p",{className:"text-gray-600 text-sm",children:[e.jsx("strong",{children:"University:"})," ",a.university]}),e.jsxs("p",{className:"text-gray-600 text-sm",children:[e.jsx("strong",{children:"Year:"})," ",a.year]})]})},a.id)),n&&e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsx("input",{type:"text",value:o.degree,onChange:a=>h({...o,degree:a.target.value}),placeholder:"Degree",className:"w-full py-2 px-3 rounded border mb-2 text-sm"}),e.jsx("input",{type:"text",value:o.university,onChange:a=>h({...o,university:a.target.value}),placeholder:"University",className:"w-full py-2 px-3 rounded border mb-2 text-sm"}),e.jsx("input",{type:"text",value:o.year,onChange:a=>h({...o,year:a.target.value}),placeholder:"Year",className:"w-full py-2 px-3 rounded border mb-2 text-sm"}),e.jsx("button",{onClick:P,className:"bg-green-600 text-white py-2 px-3 rounded-md text-sm",children:"Add Education"})]})]}),e.jsxs("div",{className:"bg-white border rounded-md p-4 mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold mb-2 text-gray-900",children:"Mentor Details"}),e.jsxs("p",{className:"text-gray-600 text-sm",children:[e.jsx("strong",{children:"Mentor Name:"})," ",s.mentor?.name||"—"]}),e.jsxs("p",{className:"text-gray-600 text-sm",children:[e.jsx("strong",{children:"Email:"})," ",s.mentor?.email||"—"]}),e.jsxs("p",{className:"text-gray-600 text-sm",children:[e.jsx("strong",{children:"Phone:"})," ",s.mentor?.phone||"—"]})]})]})})};export{G as default};
//# sourceMappingURL=ProfilePage-D7RgOmqd.js.map
