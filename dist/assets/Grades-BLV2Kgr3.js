import{j as e}from"./query-_HUGc1jU.js";import{r as c,L as m}from"./router-CGnu6c2M.js";import{o as C,e as S,q as G,w as A,b as E}from"./firebase-Cf9C3kP7.js";import{a as D,d as U}from"./index-BlT7jYU2.js";import{F as a,s as u,x as M,C as x,z as j,y as k,o as L,h as f,e as N,p,G as $,H as F,I as R,J as T,b as I,r as B,g as q,K as H,L as O,M as Q}from"./ui-BFo-ETor.js";import"./vendor-Dazix4UH.js";const X=()=>{const[r,d]=c.useState([]),[b,n]=c.useState(!0),[o,l]=c.useState(null);c.useEffect(()=>{(async()=>{try{n(!0),l(null),C(D,async t=>{if(!t){l("No user is logged in."),n(!1);return}try{const i=S(U,"courses"),w=G(i,A("instructor","==",t.uid)),g=(await E(w)).docs.map(h=>({id:h.id,...h.data()}));g.length===0?d([{id:1,courseName:"Introduction to Computer Science",courseCode:"CS101",instructor:t.uid,totalStudents:45,averageGrade:85.2,assignments:5,exams:2,lastUpdated:"2024-01-15"},{id:2,courseName:"Data Structures and Algorithms",courseCode:"CS201",instructor:t.uid,totalStudents:38,averageGrade:78.9,assignments:8,exams:3,lastUpdated:"2024-01-14"},{id:3,courseName:"Database Management Systems",courseCode:"CS301",instructor:t.uid,totalStudents:42,averageGrade:82.1,assignments:6,exams:2,lastUpdated:"2024-01-13"}]):d(g)}catch{d([{id:1,courseName:"Introduction to Computer Science",courseCode:"CS101",instructor:t.uid,totalStudents:45,averageGrade:85.2,assignments:5,exams:2,lastUpdated:"2024-01-15"},{id:2,courseName:"Data Structures and Algorithms",courseCode:"CS201",instructor:t.uid,totalStudents:38,averageGrade:78.9,assignments:8,exams:3,lastUpdated:"2024-01-14"},{id:3,courseName:"Database Management Systems",courseCode:"CS301",instructor:t.uid,totalStudents:42,averageGrade:82.1,assignments:6,exams:2,lastUpdated:"2024-01-13"}])}n(!1)})}catch(t){console.error("Error fetching faculty courses:",t.message),l(t.message||"Error fetching faculty courses.")}})()},[]);const v=s=>s>=90?{color:"text-green-600",bg:"bg-green-100",icon:H}:s>=80?{color:"text-blue-600",bg:"bg-blue-100",icon:O}:s>=70?{color:"text-yellow-600",bg:"bg-yellow-100",icon:Q}:{color:"text-red-600",bg:"bg-red-100",icon:u},y=s=>s>=90?"A":s>=80?"B":s>=70?"C":s>=60?"D":"F";return b?e.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:e.jsxs("div",{className:"page-container",children:[e.jsxs("div",{className:"mb-8 animate-fade-in",children:[e.jsx("div",{className:"h-12 shimmer rounded-lg mb-4"}),e.jsx("div",{className:"h-6 shimmer rounded w-1/3"})]}),e.jsx("div",{className:"grid gap-4 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3",children:Array.from({length:6}).map((s,t)=>e.jsxs("div",{className:"bg-white border rounded-md p-4 animate-fade-in",style:{animationDelay:`${t*100}ms`},children:[e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx("div",{className:"w-12 h-12 shimmer rounded-full mr-3"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"h-4 shimmer rounded w-2/3 mb-2"}),e.jsx("div",{className:"h-3 shimmer rounded w-1/3"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"h-5 w-14 shimmer rounded"}),e.jsx("div",{className:"h-5 w-20 shimmer rounded"})]})]},t))})]})}):o?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx(a,{icon:u,className:"text-red-500 text-6xl mb-4 animate-bounce"}),e.jsx("div",{className:"text-red-600 text-xl font-semibold",children:o})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:e.jsxs("div",{className:"page-container",children:[e.jsxs("header",{className:"mb-6 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(a,{icon:M,className:"text-indigo-600"}),"Grade Management"]}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1 flex items-center gap-1",children:[e.jsx(a,{icon:x,className:"text-indigo-400"}),"Manage and track student grades across your courses"]})]}),e.jsx("div",{className:"compact-card py-2 px-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(a,{icon:j,className:"text-indigo-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Total Courses:"}),e.jsx("span",{className:"text-base font-semibold text-gray-900",children:r.length})]})})]}),e.jsxs("div",{className:"compact-card mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-8 h-8 rounded-md bg-blue-50 text-blue-600 flex items-center justify-center",children:e.jsx(a,{icon:x,className:"text-sm"})}),e.jsx("h2",{className:"text-sm font-semibold text-gray-900",children:"Grade Statistics Overview"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[e.jsxs("div",{className:"bg-white/50 rounded-md p-3 text-center",children:[e.jsx("div",{className:"text-lg font-semibold text-indigo-600",children:r.reduce((s,t)=>s+(t.totalStudents||0),0)}),e.jsx("div",{className:"text-xs text-gray-600",children:"Total Students"})]}),e.jsxs("div",{className:"bg-green-50 rounded-md p-3 text-center border border-green-200",children:[e.jsxs("div",{className:"text-lg font-semibold text-green-600",children:[Math.round(r.reduce((s,t)=>s+(t.averageGrade||0),0)/r.length),"%"]}),e.jsx("div",{className:"text-xs text-gray-600",children:"Average Grade"})]}),e.jsxs("div",{className:"bg-blue-50 rounded-md p-3 text-center border border-blue-200",children:[e.jsx("div",{className:"text-lg font-semibold text-blue-600",children:r.reduce((s,t)=>s+(t.assignments||0),0)}),e.jsx("div",{className:"text-xs text-gray-600",children:"Total Assignments"})]}),e.jsxs("div",{className:"bg-purple-50 rounded-md p-3 text-center border border-purple-200",children:[e.jsx("div",{className:"text-lg font-semibold text-purple-600",children:r.reduce((s,t)=>s+(t.exams||0),0)}),e.jsx("div",{className:"text-xs text-gray-600",children:"Total Exams"})]})]})]}),e.jsx("div",{className:"grid gap-4 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3",children:r.map((s,t)=>{const i=v(s.averageGrade||0);return e.jsxs("div",{className:"group bg-white rounded-lg border p-4 hover:shadow-sm animate-fade-in cursor-pointer",style:{animationDelay:`${t*100}ms`},children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-md bg-blue-50 text-blue-600 flex items-center justify-center",children:e.jsx(a,{icon:j,className:"text-sm"})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${i.bg} ${i.color} flex items-center gap-1`,children:[e.jsx(a,{icon:i.icon}),y(s.averageGrade||0)]}),e.jsx(a,{icon:k,className:"text-indigo-400 text-sm"})]})]}),e.jsx("h3",{className:"text-base font-semibold text-gray-900 mb-1",children:s.courseName}),e.jsxs("p",{className:"text-gray-600 text-sm mb-3",children:["Course Code: ",s.courseCode]}),e.jsxs("div",{className:"space-y-3 mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsxs("span",{className:"text-gray-600 flex items-center gap-2",children:[e.jsx(a,{icon:L,className:"text-indigo-400"}),"Students"]}),e.jsx("span",{className:"font-semibold text-gray-800",children:s.totalStudents||0})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsxs("span",{className:"text-gray-600 flex items-center gap-2",children:[e.jsx(a,{icon:x,className:"text-indigo-400"}),"Average Grade"]}),e.jsxs("span",{className:`font-semibold ${i.color}`,children:[s.averageGrade||0,"%"]})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsxs("span",{className:"text-gray-600 flex items-center gap-2",children:[e.jsx(a,{icon:f,className:"text-indigo-400"}),"Assignments"]}),e.jsx("span",{className:"font-semibold text-gray-800",children:s.assignments||0})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsxs("span",{className:"text-gray-600 flex items-center gap-2",children:[e.jsx(a,{icon:N,className:"text-indigo-400"}),"Exams"]}),e.jsx("span",{className:"font-semibold text-gray-800",children:s.exams||0})]})]}),e.jsxs("div",{className:"flex items-center justify-between text-[11px] text-gray-500 mb-3",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(a,{icon:p,className:"text-indigo-400"}),"Last Updated"]}),e.jsx("span",{children:s.lastUpdated||"N/A"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(m,{to:`/grades/${s.id}`,className:"flex-1 inline-flex items-center justify-center gap-1.5 px-3 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 text-sm",children:[e.jsx(a,{icon:$}),"View Grades"]}),e.jsx("button",{className:"px-3 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 text-sm",children:e.jsx(a,{icon:F})})]})]},s.id)})}),e.jsxs("div",{className:"compact-card mt-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-8 h-8 rounded-md bg-orange-50 text-orange-600 flex items-center justify-center",children:e.jsx(a,{icon:N,className:"text-sm"})}),e.jsx("h2",{className:"text-sm font-semibold text-gray-900",children:"Quick Actions"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[e.jsxs("button",{className:"group compact-card text-center",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-50 text-blue-600 rounded-md flex items-center justify-center mx-auto mb-2",children:e.jsx(a,{icon:R,className:"text-sm"})}),e.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Upload Grades"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Bulk upload student grades"})]}),e.jsxs("button",{className:"group compact-card text-center",children:[e.jsx("div",{className:"w-10 h-10 bg-green-50 text-green-600 rounded-md flex items-center justify-center mx-auto mb-2",children:e.jsx(a,{icon:T,className:"text-sm"})}),e.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Export Report"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Download grade reports"})]}),e.jsxs(m,{to:"/exams",className:"group compact-card text-center",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-50 text-purple-600 rounded-md flex items-center justify-center mx-auto mb-2",children:e.jsx(a,{icon:f,className:"text-sm"})}),e.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Exam Management"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Manage course exams"})]}),e.jsxs(m,{to:"/home",className:"group compact-card text-center",children:[e.jsx("div",{className:"w-10 h-10 bg-cyan-50 text-cyan-600 rounded-md flex items-center justify-center mx-auto mb-2",children:e.jsx(a,{icon:I,className:"text-sm"})}),e.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Dashboard"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Return to dashboard"})]})]})]}),e.jsxs("div",{className:"compact-card mt-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-8 h-8 rounded-md bg-indigo-50 text-indigo-600 flex items-center justify-center",children:e.jsx(a,{icon:p,className:"text-sm"})}),e.jsx("h2",{className:"text-sm font-semibold text-gray-900",children:"Recent Grade Activities"})]}),e.jsx("div",{className:"space-y-4",children:r.slice(0,3).map((s,t)=>e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white/50 rounded-md animate-fade-in",style:{animationDelay:`${t*100}ms`},children:[e.jsx("div",{className:"w-8 h-8 bg-green-50 text-green-600 rounded-md flex items-center justify-center",children:e.jsx(a,{icon:B,className:"text-sm"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("h4",{className:"text-sm font-semibold text-gray-900",children:["Grades updated for ",s.courseName]}),e.jsxs("p",{className:"text-xs text-gray-600",children:["Average grade: ",s.averageGrade||0,"%"]})]}),e.jsxs("div",{className:"text-xs text-gray-500",children:[e.jsx(a,{icon:q,className:"mr-1"}),s.lastUpdated||"N/A"]})]},s.id))})]})]})})};export{X as default};
//# sourceMappingURL=Grades-BLV2Kgr3.js.map
