import{j as e}from"./query-_HUGc1jU.js";import{r as x,u as k}from"./router-CGnu6c2M.js";import{o as I,c as A,q as v,w,b as C,e as F}from"./firebase-Cf9C3kP7.js";import{a as q,d as $}from"./index-BlT7jYU2.js";import{F as t,s as P,z as p,y as S,x as B,g as G,o as L,p as M}from"./ui-BFo-ETor.js";import"./vendor-Dazix4UH.js";const O=()=>{const[u,b]=x.useState([]),[E,m]=x.useState(!0),[f,n]=x.useState(null),h=k();return x.useEffect(()=>{(async()=>{try{m(!0),n(null),I(q,async a=>{if(!a){n("No user is logged in."),m(!1);return}const r=[];try{const y=A($,"courseDetails"),g=v(y,w("instructor","==",a.uid));(await C(g)).forEach(c=>{const i=c.ref.path.split("/"),N=i[1],d=i[2],l=i[3];r.push({id:c.id,year:N,section:d,semester:l,...c.data()})})}catch{const g=["I","II","III","IV"],j=["A","B","C","D","E","F"],c=["sem1","sem2"],i=[];g.forEach(d=>{j.forEach(l=>{c.forEach(o=>{const D=F($,"courses",d,l,o,"courseDetails");i.push(C(v(D,w("instructor","==",a.uid))))})})}),(await Promise.all(i)).forEach(d=>{d.forEach(l=>{const o=l.ref.path.split("/");r.push({id:l.id,year:o[1],section:o[2],semester:o[3],...l.data()})})})}r.length===0?(n("No courses assigned to this faculty."),b([])):(b(r),n(null)),m(!1)})}catch{n("Error fetching faculty courses."),m(!1)}})()},[]),E?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50 p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-12 animate-fade-in",children:[e.jsx("div",{className:"h-16 bg-gray-200 rounded-2xl mb-6 animate-pulse"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded-xl w-1/3 animate-pulse"})]}),e.jsx("div",{className:"grid gap-8 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3",children:Array.from({length:6}).map((s,a)=>e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 animate-fade-in border border-gray-100",style:{animationDelay:`${a*100}ms`},children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-full mr-6 animate-pulse"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded w-3/4 mb-3 animate-pulse"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 animate-pulse"})]})]}),e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-2/3 animate-pulse"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"h-8 w-20 bg-gray-200 rounded-full animate-pulse"}),e.jsx("div",{className:"h-8 w-16 bg-gray-200 rounded-full animate-pulse"})]})]},a))})]})}):f?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50 flex items-center justify-center p-8",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-12 text-center border border-gray-100",children:[e.jsx(t,{icon:P,className:"text-blue-600 text-6xl mb-6 animate-bounce"}),e.jsx("div",{className:"text-gray-800 text-xl font-semibold",children:f})]})}):u.length===0?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50 flex items-center justify-center p-8",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-12 text-center border border-gray-100",children:[e.jsx(t,{icon:p,className:"text-gray-400 text-6xl mb-6 animate-pulse"}),e.jsx("h3",{className:"text-2xl font-semibold text-gray-700 mb-3",children:"No courses available"}),e.jsx("p",{className:"text-gray-600 text-lg",children:"No courses have been assigned to this faculty yet."})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:e.jsxs("div",{className:"page-container",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"My Courses"}),e.jsx("p",{className:"text-xs text-gray-500 hidden sm:block",children:"Here is the list of courses you are teaching"})]}),e.jsx("div",{className:"compact-card py-2 px-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(t,{icon:p,className:"text-blue-600 text-sm"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Total Courses:"}),e.jsx("span",{className:"text-base font-semibold text-gray-900",children:u.length})]})})]}),e.jsx("section",{className:"grid gap-4 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3",children:u.map((s,a)=>e.jsxs("div",{className:"group bg-white rounded-lg border p-4 hover:shadow-sm animate-fade-in cursor-pointer",style:{animationDelay:`${a*100}ms`},onClick:()=>h(`/courses/${s.year}/${s.section}/${s.semester}/courseDetails/${s.id}`),children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-md bg-blue-50 text-blue-600 flex items-center justify-center",children:e.jsx(t,{icon:p,className:"text-sm"})}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(t,{icon:S,className:"text-blue-600 text-sm"})})]}),e.jsx("h3",{className:"text-base font-semibold text-gray-900 mb-2",children:s.courseName||s.id}),e.jsx("p",{className:"text-gray-600 mb-4 line-clamp-2 text-sm",children:s.description||"Course description not available"}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-700 border border-blue-200",children:[e.jsx(t,{icon:B,className:"mr-2"}),s.year,"-",s.section]}),e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-700 border border-purple-200",children:[e.jsx(t,{icon:G,className:"mr-2"}),s.semester?.toUpperCase()]})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(t,{icon:L,className:"text-blue-600"}),e.jsxs("span",{className:"font-medium",children:[s.students?.length||0," Students"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(t,{icon:M,className:"text-blue-600"}),e.jsxs("span",{className:"font-medium",children:[s.credits||3," Credits"]})]})]}),e.jsxs("div",{className:"mt-4 flex gap-2",children:[e.jsx("button",{type:"button",onClick:r=>{r.stopPropagation(),h(`/attendance/${s.year}/${s.section}/${s.semester}/${s.id}`)},className:"btn-campus-primary px-3 py-2 rounded-md text-sm",children:"Mark Attendance"}),e.jsx("button",{type:"button",onClick:r=>{r.stopPropagation(),h(`/courses/${s.year}/${s.section}/${s.semester}/courseDetails/${s.id}`)},className:"px-3 py-2 rounded-md border border-gray-300 hover:bg-gray-100 text-sm",children:"View Details"})]})]},s.id))})]})})};export{O as default};
//# sourceMappingURL=Course-B-a0z10K.js.map
