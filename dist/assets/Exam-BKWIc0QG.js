import{j as e}from"./query-_HUGc1jU.js";import{r as l,L as n}from"./router-CGnu6c2M.js";import{F as t,v as B,i as k,t as N,H as v,y as w,x as q,h as z,q as $,I as G,p as H,z as C,g as O,d as U}from"./ui-BE1NG-gw.js";import{a as E,d as u}from"./index-DAak1JJl.js";import{o as V,m as y,q as M,w as S,l as A,t as J}from"./firebase-CGo28arV.js";import"./vendor-Dazix4UH.js";const ae=()=>{const[h,b]=l.useState([]),[D,c]=l.useState(!0),[p,x]=l.useState(null),[f,T]=l.useState([]),[m,g]=l.useState(!1),[a,d]=l.useState({courseId:"",courseName:"",examType:"Mid-term",date:"",time:"",location:"",syllabus:"",examPattern:"",duration:"",totalMarks:"",instructions:""});l.useEffect(()=>{(async()=>{try{c(!0),x(null),V(E,async s=>{if(!s){x("No user is logged in."),c(!1);return}const o=y(u,"courses"),I=M(o,S("instructor","==",s.uid)),R=(await A(I)).docs.map(i=>({id:i.id,...i.data()}));T(R);const L=y(u,"exams"),Q=M(L,S("facultyId","==",s.uid)),j=(await A(Q)).docs.map(i=>({id:i.id,...i.data()}));j.length===0?b([{id:1,courseName:"Introduction to Computer Science",examType:"Mid-term",date:"2024-08-15",time:"10:00 AM",location:"Room 101",syllabus:"Chapters 1-5",examPattern:"Multiple Choice, Short Answer",duration:"2 hours",totalMarks:"50",students:[{id:1,name:"Alice Johnson"},{id:2,name:"Bob Smith"}]},{id:2,courseName:"Data Structures and Algorithms",examType:"Final",date:"2024-09-20",time:"2:00 PM",location:"Room 205",syllabus:"Chapters 6-10",examPattern:"Programming, Theory",duration:"3 hours",totalMarks:"100",students:[{id:3,name:"Charlie Brown"},{id:4,name:"Diana Prince"}]}]):b(j)})}catch(s){console.error("Error fetching exams:",s.message),x(s.message||"Error fetching exams.")}finally{c(!1)}})()},[]);const P=async()=>{try{const r={...a,facultyId:E.currentUser.uid,createdAt:new Date().toISOString(),status:"scheduled"};await J(y(u,"exams"),r),g(!1),d({courseId:"",courseName:"",examType:"Mid-term",date:"",time:"",location:"",syllabus:"",examPattern:"",duration:"",totalMarks:"",instructions:""}),window.location.reload()}catch(r){console.error("Error creating exam:",r),alert("Error creating exam. Please try again.")}},F=r=>r==="upcoming"?{status:"upcoming",color:"text-accent",bg:"bg-accent/10"}:r==="ongoing"?{status:"ongoing",color:"text-secondary",bg:"bg-secondary/10"}:r==="completed"?{status:"completed",color:"text-secondary",bg:"bg-secondary/10"}:{status:"draft",color:"text-secondary",bg:"bg-secondary/10"};return D?e.jsx("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-12 animate-fade-in",children:[e.jsx("div",{className:"h-16 bg-gray-200 dark:bg-gray-700 rounded-2xl mb-6 animate-pulse"}),e.jsx("div",{className:"h-8 bg-gray-200 dark:bg-gray-700 rounded-xl w-1/3 animate-pulse"})]}),e.jsx("div",{className:"grid gap-8 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3",children:Array.from({length:6}).map((r,s)=>e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-8 animate-fade-in border border-gray-200 dark:border-gray-700",style:{animationDelay:`${s*100}ms`},children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-200 dark:bg-gray-700 rounded-full mr-6 animate-pulse"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"h-6 bg-gray-200 dark:bg-gray-700 rounded w-3/4 mb-3 animate-pulse"}),e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/2 animate-pulse"})]})]}),e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"}),e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-2/3 animate-pulse"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"h-8 w-20 bg-gray-200 dark:bg-gray-700 rounded-full animate-pulse"}),e.jsx("div",{className:"h-8 w-16 bg-gray-200 dark:bg-gray-700 rounded-full animate-pulse"})]})]},s))})]})}):p?e.jsx("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 flex items-center justify-center p-8",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-12 text-center border border-gray-200 dark:border-gray-700",children:[e.jsx(t,{icon:B,className:"text-red-600 dark:text-red-400 text-6xl mb-6 animate-bounce"}),e.jsx("div",{className:"text-gray-950 dark:text-white text-xl font-semibold",children:p})]})}):e.jsx("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl border border-gray-200 dark:border-gray-700 p-6 shadow-lg mb-8",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between",children:[e.jsxs("div",{className:"mb-4 lg:mb-0",children:[e.jsxs("h1",{className:"text-3xl lg:text-4xl font-bold text-gray-950 dark:text-white flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary to-secondary rounded-xl flex items-center justify-center shadow-lg",children:e.jsx(t,{icon:k,className:"text-white text-lg"})}),"Exam Management"]}),e.jsxs("p",{className:"text-gray-800 dark:text-gray-200 text-base flex items-center gap-2",children:[e.jsx(t,{icon:N,className:"text-gray-800 dark:text-gray-200"}),"Create, manage, and track your course examinations"]})]}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm text-gray-800 dark:text-gray-200",children:"Total Exams"}),e.jsx("p",{className:"text-lg font-semibold text-gray-950 dark:text-white",children:h.length})]})})]})}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl border border-gray-200 dark:border-gray-700 p-6 shadow-lg mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary to-secondary rounded-xl flex items-center justify-center",children:e.jsx(t,{icon:v,className:"text-white text-sm"})}),e.jsx("h2",{className:"text-xl font-bold text-gray-950 dark:text-white",children:"Create New Exam"})]}),e.jsxs("button",{onClick:()=>g(!m),className:"bg-primary hover:bg-secondary text-white font-semibold px-6 py-3 rounded-xl text-sm transition-all duration-300 hover:shadow-md inline-flex items-center gap-2",children:[e.jsx(t,{icon:v}),m?"Cancel":"Create Exam"]})]}),m&&e.jsxs("div",{className:"mt-6 p-6 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-800 dark:text-gray-200 mb-2",children:"Course"}),e.jsxs("select",{value:a.courseId,onChange:r=>{const s=f.find(o=>o.id===r.target.value);d({...a,courseId:r.target.value,courseName:s?s.courseName:""})},className:"w-full px-4 py-3 border border-gray-200 dark:border-gray-600 rounded-xl text-sm focus:ring-2 focus:ring-primary focus:border-primary bg-gray-50 dark:bg-gray-700 text-gray-950 dark:text-white",children:[e.jsx("option",{value:"",children:"Select Course"}),f.map(r=>e.jsx("option",{value:r.id,children:r.courseName},r.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-800 dark:text-gray-200 mb-2",children:"Exam Type"}),e.jsxs("select",{value:a.examType,onChange:r=>d({...a,examType:r.target.value}),className:"w-full px-4 py-3 border border-gray-200 dark:border-gray-600 rounded-xl text-sm focus:ring-2 focus:ring-primary focus:border-primary bg-gray-50 dark:bg-gray-700 text-gray-950 dark:text-white",children:[e.jsx("option",{value:"Mid-term",children:"Mid-term"}),e.jsx("option",{value:"Final",children:"Final"}),e.jsx("option",{value:"Quiz",children:"Quiz"}),e.jsx("option",{value:"Assignment",children:"Assignment"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-800 dark:text-gray-200 mb-2",children:"Date"}),e.jsx("input",{type:"date",value:a.date,onChange:r=>d({...a,date:r.target.value}),className:"w-full px-4 py-3 border border-gray-200 dark:border-gray-600 rounded-xl text-sm focus:ring-2 focus:ring-primary focus:border-primary bg-gray-50 dark:bg-gray-700 text-gray-950 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-800 dark:text-gray-200 mb-2",children:"Time"}),e.jsx("input",{type:"time",value:a.time,onChange:r=>d({...a,time:r.target.value}),className:"w-full px-4 py-3 border border-gray-200 dark:border-gray-600 rounded-xl text-sm focus:ring-2 focus:ring-primary focus:border-primary bg-gray-50 dark:bg-gray-700 text-gray-950 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-800 dark:text-gray-200 mb-2",children:"Location"}),e.jsx("input",{type:"text",value:a.location,onChange:r=>d({...a,location:r.target.value}),placeholder:"Room 101",className:"w-full px-4 py-3 border border-gray-200 dark:border-gray-600 rounded-xl text-sm focus:ring-2 focus:ring-primary focus:border-primary bg-gray-50 dark:bg-gray-700 text-gray-950 dark:text-white placeholder:text-gray-800 dark:placeholder:text-gray-200"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-800 dark:text-gray-200 mb-2",children:"Duration"}),e.jsx("input",{type:"text",value:a.duration,onChange:r=>d({...a,duration:r.target.value}),placeholder:"2 hours",className:"w-full px-4 py-3 border border-gray-200 dark:border-gray-600 rounded-xl text-sm focus:ring-2 focus:ring-primary focus:border-primary bg-gray-50 dark:bg-gray-700 text-gray-950 dark:text-white placeholder:text-gray-800 dark:placeholder:text-gray-200"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-800 dark:text-gray-200 mb-2",children:"Total Marks"}),e.jsx("input",{type:"number",value:a.totalMarks,onChange:r=>d({...a,totalMarks:r.target.value}),placeholder:"50",className:"w-full px-4 py-3 border border-gray-200 dark:border-gray-600 rounded-xl text-sm focus:ring-2 focus:ring-primary focus:border-primary bg-gray-50 dark:bg-gray-700 text-gray-950 dark:text-white placeholder:text-gray-800 dark:placeholder:text-gray-200"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-800 dark:text-gray-200 mb-2",children:"Syllabus"}),e.jsx("input",{type:"text",value:a.syllabus,onChange:r=>d({...a,syllabus:r.target.value}),placeholder:"Chapters 1-5",className:"w-full px-4 py-3 border border-gray-200 dark:border-gray-600 rounded-xl text-sm focus:ring-2 focus:ring-primary focus:border-primary bg-gray-50 dark:bg-gray-700 text-gray-950 dark:text-white placeholder:text-gray-800 dark:placeholder:text-gray-200"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-800 dark:text-gray-200 mb-2",children:"Exam Pattern"}),e.jsx("input",{type:"text",value:a.examPattern,onChange:r=>d({...a,examPattern:r.target.value}),placeholder:"Multiple Choice, Short Answer",className:"w-full px-4 py-3 border border-gray-200 dark:border-gray-600 rounded-xl text-sm focus:ring-2 focus:ring-primary focus:border-primary bg-gray-50 dark:bg-gray-700 text-gray-950 dark:text-white placeholder:text-gray-800 dark:placeholder:text-gray-200"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-800 dark:text-gray-200 mb-2",children:"Instructions"}),e.jsx("textarea",{value:a.instructions,onChange:r=>d({...a,instructions:r.target.value}),placeholder:"Exam instructions for students...",rows:"3",className:"w-full px-4 py-3 border border-gray-200 dark:border-gray-600 rounded-xl text-sm focus:ring-2 focus:ring-primary focus:border-primary bg-gray-50 dark:bg-gray-700 text-gray-950 dark:text-white placeholder:text-gray-800 dark:placeholder:text-gray-200"})]})]}),e.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[e.jsx("button",{onClick:()=>g(!1),className:"px-6 py-3 border border-gray-200 dark:border-gray-600 text-gray-800 dark:text-gray-200 rounded-xl text-sm hover:bg-gray-100 dark:hover:bg-gray-600 transition-all duration-300",children:"Cancel"}),e.jsx("button",{onClick:P,className:"px-6 py-3 bg-primary hover:bg-secondary text-white rounded-xl text-sm transition-all duration-300 hover:shadow-md",children:"Create Exam"})]})]})]}),e.jsx("div",{className:"grid gap-6 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3",children:h.map((r,s)=>{const o=F(r.status);return e.jsxs("div",{className:"group bg-white dark:bg-gray-800 rounded-2xl border border-gray-200 dark:border-gray-700 p-6 shadow-lg hover:shadow-xl transition-all duration-300 animate-fade-in hover:-translate-y-1",style:{animationDelay:`${s*100}ms`},children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-blue-500 to-blue-600 text-white flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-300",children:e.jsx(t,{icon:k,className:"text-lg"})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300 border border-blue-200 dark:border-blue-700",children:o.status}),e.jsx(t,{icon:w,className:"text-gray-800 dark:text-gray-200 text-sm group-hover:text-primary transition-colors"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-gray-950 dark:text-white mb-3 group-hover:text-secondary transition-colors",children:r.courseName}),e.jsxs("div",{className:"space-y-3 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-800 dark:text-gray-200",children:[e.jsx(t,{icon:q,className:"text-primary"}),e.jsx("span",{children:r.examType})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-800 dark:text-gray-200",children:[e.jsx(t,{icon:z,className:"text-primary"}),e.jsx("span",{children:r.date})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-800 dark:text-gray-200",children:[e.jsx(t,{icon:$,className:"text-primary"}),e.jsx("span",{children:r.time})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-800 dark:text-gray-200",children:[e.jsx(t,{icon:G,className:"text-primary"}),e.jsx("span",{children:r.location})]})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-800 dark:text-gray-200 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(t,{icon:H,className:"text-primary"}),e.jsxs("span",{children:[r.students?.length||0," Students"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(t,{icon:C,className:"text-primary"}),e.jsxs("span",{children:[r.totalMarks||"N/A"," Marks"]})]})]})]}),e.jsxs(n,{to:`/exams/${r.id}`,className:"inline-flex items-center gap-2 w-full justify-center px-4 py-3 bg-primary hover:bg-secondary text-white rounded-xl text-sm transition-all duration-300 hover:shadow-md",children:[e.jsx(t,{icon:w}),"View Details"]})]},r.id)})}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl border border-gray-200 dark:border-gray-700 p-6 shadow-lg mt-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary to-secondary rounded-xl flex items-center justify-center",children:e.jsx(t,{icon:O,className:"text-white text-sm"})}),e.jsx("h2",{className:"text-xl font-bold text-gray-950 dark:text-white",children:"Quick Actions"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs(n,{to:"/grades",className:"group bg-gray-50 dark:bg-gray-700 rounded-xl border border-gray-200 dark:border-gray-600 p-6 text-center hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform duration-300 shadow-lg",children:e.jsx(t,{icon:C,className:"text-white text-lg"})}),e.jsx("h3",{className:"text-lg font-bold text-gray-950 dark:text-white mb-2",children:"Grade Management"}),e.jsx("p",{className:"text-gray-800 dark:text-gray-200 text-sm",children:"Manage student grades"})]}),e.jsxs(n,{to:"/courses",className:"group bg-gray-50 dark:bg-gray-700 rounded-xl border border-gray-200 dark:border-gray-600 p-6 text-center hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-green-600 rounded-xl flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform duration-300 shadow-lg",children:e.jsx(t,{icon:N,className:"text-white text-lg"})}),e.jsx("h3",{className:"text-lg font-bold text-gray-950 dark:text-white mb-2",children:"My Courses"}),e.jsx("p",{className:"text-gray-800 dark:text-gray-200 text-sm",children:"View your courses"})]}),e.jsxs(n,{to:"/home",className:"group bg-gray-50 dark:bg-gray-700 rounded-xl border border-gray-200 dark:border-gray-600 p-6 text-center hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary to-secondary rounded-xl flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform duration-300 shadow-lg",children:e.jsx(t,{icon:U,className:"text-white text-lg"})}),e.jsx("h3",{className:"text-lg font-bold text-gray-950 dark:text-white mb-2",children:"Dashboard"}),e.jsx("p",{className:"text-gray-800 dark:text-gray-200 text-sm",children:"Return to dashboard"})]})]})]})]})})};export{ae as default};
//# sourceMappingURL=Exam-BKWIc0QG.js.map
