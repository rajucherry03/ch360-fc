{"version":3,"mappings":";uVAqBA,MAAMA,GAAgB,IAAM,CAC1B,KAAM,CAAE,KAAAC,EAAM,QAAAC,EAAS,SAAAC,EAAU,SAAAC,CAAA,EAAaC,EAAA,EACxCC,EAAWC,EAAA,EACX,CAACC,EAAYC,CAAa,EAAIC,WAAS,IAAI,EAC3C,CAACC,EAAkBC,CAAmB,EAAIF,WAAS,EAAE,EACrD,CAACG,EAASC,CAAU,EAAIJ,WAAS,EAAI,EACrC,CAACK,EAAOC,CAAQ,EAAIN,WAAS,IAAI,EACjC,CAACO,EAAaC,CAAc,EAAIR,WAAS,IAAI,EAkQnD,OAhQAS,YAAU,IAAM,EACa,SAAY,CACrC,GAAI,CACFL,EAAW,EAAI,EACfE,EAAS,IAAI,EAEb,QAAQ,IAAI,kCAAmC,CAAE,KAAAf,EAAM,QAAAC,EAAS,SAAAC,EAAU,SAAAC,EAAU,EAGpF,IAAIa,EAAc,KAClB,GAAI,CACF,KAAM,CAAE,KAAAG,CAAA,EAAS,MAAAC,EAAA,qBAAAD,GAAA,KAAM,QAAO,qBAAa,OAAAE,KAAA,eAAAF,CAAA,qCACrC,CAAE,mBAAAG,CAAA,EAAuB,MAAAF,EAAA,mCAAAE,GAAA,KAAM,QAAO,wBAAe,OAAAD,KAAA,6BAAAC,CAAA,OAE3DA,EAAmBH,EAAM,MAAOI,GAAS,CACvC,GAAIA,EAAM,CACR,MAAMC,EAAaC,EAAIC,EAAI,UAAW,SAAU,UAAWH,EAAK,GAAG,EAC7DI,EAAc,MAAMC,EAAOJ,CAAU,EACvCG,EAAY,WACdX,EAAcW,EAAY,OAC1BV,EAAeD,CAAW,EAC1B,QAAQ,IAAI,0BAA2BA,EAAY,IAAI,EAE3D,CACF,CAAC,CACH,OAASF,EAAO,CACd,QAAQ,IAAI,kCAAmCA,CAAK,CACtD,CAES,IAAIe,EAAkB,KA0E9BA,EAAkB,MAvEM,SAAY,CAClC,QAAQ,IAAI,qCAAqC,EAGjD,GAAI,CACF,MAAMC,EAAaL,EAAIC,EAAI,UAAW,SAAU,WAAY,GAAG1B,CAAI,IAAIE,CAAQ,GAAI,gBAAiBC,CAAQ,EACtG4B,EAAa,MAAMH,EAAOE,CAAU,EAC1C,GAAIC,EAAW,SACbF,SAAkBE,EAAW,OAC7B,QAAQ,IAAI,+BAA+B,EACpCF,CAEX,MAAgB,CACd,QAAQ,IAAI,6CAA6C,CAC3D,CAGA,GAAI,CACF,MAAMG,EAAK,gBAAgBN,EAAI,eAAe,EACxCO,EAAIC,EAAMF,EAAIG,EAAM,WAAY,KAAMhC,CAAQ,CAAC,EAC/CiC,EAAO,MAAMC,EAAQJ,CAAC,EAC5B,GAAI,CAACG,EAAK,MACRP,SAAkBO,EAAK,KAAK,CAAC,EAAE,OAC/B,QAAQ,IAAI,oCAAoC,EACzCP,CAEX,MAAgB,CACd,QAAQ,IAAI,qDAAqD,CACnE,CAGA,MAAMS,EAAiB,CAErB,CAAC,UAAW,SAAU,WAAY,GAAGtC,CAAI,IAAIE,CAAQ,GAAI,gBAAiBC,CAAQ,EAElF,CAAC,UAAW,SAAU,WAAY,QAAS,gBAAiBA,CAAQ,EACpE,CAAC,UAAW,SAAU,WAAY,QAAS,gBAAiBA,CAAQ,EACpE,CAAC,UAAW,SAAU,WAAY,QAAS,gBAAiBA,CAAQ,EACpE,CAAC,UAAW,SAAU,WAAY,QAAS,gBAAiBA,CAAQ,EAEpE,CAAC,UAAWH,EAAMC,EAASC,EAAU,gBAAiBC,CAAQ,EAC9D,CAAC,UAAW,MAAO,IAAK,IAAK,gBAAiBA,CAAQ,EACtD,CAAC,UAAW,MAAO,IAAK,IAAK,gBAAiBA,CAAQ,EACtD,CAAC,UAAW,MAAO,IAAK,IAAK,gBAAiBA,CAAQ,EAEtD,CAAC,UAAWA,CAAQ,EACpB,CAAC,gBAAiBA,CAAQ,EAE1B,CAAC,UAAW,MAAO,WAAY,GAAGH,CAAI,IAAIE,CAAQ,GAAI,gBAAiBC,CAAQ,EAC/E,CAAC,UAAW,QAAS,WAAY,GAAGH,CAAI,IAAIE,CAAQ,GAAI,gBAAiBC,CAAQ,GAGnF,UAAWoC,KAAgBD,EACzB,GAAI,CACF,MAAMR,EAAaL,EAAIC,EAAI,GAAGa,CAAY,EACpCR,EAAa,MAAMH,EAAOE,CAAU,EAC1C,GAAIC,EAAW,SACbF,SAAkBE,EAAW,OAC7B,QAAQ,IAAI,qCAAsCQ,EAAa,KAAK,GAAG,CAAC,EACjEV,CAEX,MAAgB,CAEhB,CAGF,eAAQ,IAAI,yCAAyC,EAC9C,IACT,GAGwB,EAGnBA,IACH,QAAQ,IAAI,iDAAiD,EAC7DA,EAAkB,CAChB,WAAY,UAAU1B,CAAQ,GAC9B,WAAYA,EACZ,YAAa,UAAUA,CAAQ,MAAMa,GAAa,MAAQ,SAAS,GACnE,YAAahB,GAAQ,MACrB,eAAgBC,GAAW,IAC3B,gBAAiBC,GAAY,IAC7B,kBAAmB,gDACnB,QAAS,EACT,kBAAmB,GACnB,SAAU,EAAC,GAKf,MAAMsC,EAAgB,MAAOjC,GAAe,CAC1C,GAAI,CAACA,EAAY,MAAO,GAExB,QAAQ,IAAI,sCAAsC,EAClD,MAAMkC,EAAc,GAGhBlC,EAAW,mBAAqB,OAAOA,EAAW,mBAAsB,WAC1E,QAAQ,IAAI,sCAAsC,EAClD,OAAO,KAAKA,EAAW,iBAAiB,EAAE,QAAQmC,GAAc,CAC1D,MAAM,QAAQnC,EAAW,kBAAkBmC,CAAU,CAAC,GACxDnC,EAAW,kBAAkBmC,CAAU,EAAE,QAAQC,GAAa,CAC5DF,EAAY,KAAK,CAAE,GAAIE,EAAW,QAASD,EAAY,CACzD,CAAC,CAEL,CAAC,GAICnC,EAAW,UAAY,MAAM,QAAQA,EAAW,QAAQ,IAC1D,QAAQ,IAAI,mCAAmC,EAC/CA,EAAW,SAAS,QAAQoC,GAAa,CACvCF,EAAY,KAAK,CAAE,GAAIE,EAAW,QAAS,IAAK,CAClD,CAAC,GAICpC,EAAW,kBAAoB,MAAM,QAAQA,EAAW,gBAAgB,IAC1E,QAAQ,IAAI,2CAA2C,EACvDA,EAAW,iBAAiB,QAAQoC,GAAa,CAC/CF,EAAY,KAAK,CAAE,GAAIE,EAAW,QAAS,IAAK,CAClD,CAAC,GAGH,QAAQ,IAAI,8BAA+BF,EAAY,MAAM,EAG7D,MAAMG,EAAkBH,EAAY,IAAI,MAAO,CAAE,GAAIE,EAAW,QAASD,KAAiB,CACxF,MAAMG,EAAwB,CAE5B,CAAC,WAAY,QAAS,GAAG7C,CAAI,IAAI0C,CAAU,GAAIC,CAAS,EACxD,CAAC,WAAY,SAAU,GAAG3C,CAAI,IAAI0C,CAAU,GAAIC,CAAS,EAEzD,CAAC,WAAY,QAAS,QAASA,CAAS,EACxC,CAAC,WAAY,SAAU,QAASA,CAAS,EACzC,CAAC,WAAY,MAAO,QAASA,CAAS,EACtC,CAAC,WAAY,QAAS,QAASA,CAAS,EACxC,CAAC,WAAY,SAAU,QAASA,CAAS,EACzC,CAAC,WAAY,QAAS,QAASA,CAAS,EACxC,CAAC,WAAY,SAAU,QAASA,CAAS,EAEzC,CAAC,WAAYA,CAAS,EACtB,CAAC,iBAAkBA,CAAS,EAE5B,CAAC,WAAY,MAAO,GAAG3C,CAAI,IAAI0C,CAAU,GAAIC,CAAS,EACtD,CAAC,WAAY,QAAS,GAAG3C,CAAI,IAAI0C,CAAU,GAAIC,CAAS,GAG1D,UAAWJ,KAAgBM,EACzB,GAAI,CACF,MAAMC,EAAcrB,EAAIC,EAAI,GAAGa,CAAY,EACrCQ,EAAc,MAAMnB,EAAOkB,CAAW,EAC5C,GAAIC,EAAY,SACd,MAAO,CACL,GAAIJ,EACJ,QAASD,EACT,GAAGK,EAAY,MAAK,CAG1B,MAAgB,CAEhB,CAIF,MAAO,CACL,GAAIJ,EACJ,KAAM,WAAWA,CAAS,GAC1B,OAAQA,EACR,QAASD,CAAA,CAEb,CAAC,EAEKM,EAAW,MAAM,QAAQ,IAAIJ,CAAe,EAClD,eAAQ,IAAI,kCAAmCI,EAAS,MAAM,EACvDA,CACT,EAGA,GAAInB,EAAiB,CACnB,MAAMmB,EAAW,MAAMR,EAAcX,CAAe,EACpDlB,EAAoBqC,CAAQ,CAC9B,MACE,QAAQ,IAAI,+CAA+C,EAC3DrC,EAAoB,EAAE,EAMxBH,EAAc,CACZ,GAAIL,EACJ,KAAM0B,GAAiB,aAAe7B,GAAQ,MAC9C,QAAS6B,GAAiB,gBAAkB5B,GAAW,IACvD,SAAU4B,GAAiB,iBAAmB3B,GAAY,IAC1D,WAAY2B,GAAiB,YAAc,UAAU1B,CAAQ,GAC7D,WAAY0B,GAAiB,YAAc1B,EAC3C,YAAa0B,GAAiB,aAAe,UAAU1B,CAAQ,MAAMa,GAAa,MAAQ,SAAS,GACnG,WAAYa,GAAiB,WAC7B,eAAgBb,GAAa,MAAQa,GAAiB,YAAc,iBACpE,QAASA,GAAiB,SAAW,EACrC,WAAYA,GAAiB,mBAAqB,gDAClD,kBAAmBA,GAAiB,mBAAqB,GACzD,iBAAkBA,GAAiB,iBACnC,YAAaA,GAAiB,aAAe,GAAG7B,CAAI,IAAIE,CAAQ,GAChE,SAAU2B,GAAiB,UAAY,EAAC,CACzC,EAGFlB,EAAoB,EAAE,CAEjB,OAASG,EAAO,CACpB,QAAQ,MAAM,WAAYA,CAAK,EAC/B,QAAQ,IAAI,iBAAkB,CAAE,KAAAd,EAAM,QAAAC,EAAS,SAAAC,EAAU,SAAAC,EAAU,gBAAiB,EACpFY,EAAS,kCAAkCD,EAAM,OAAO,EAAE,CAC5D,SACED,EAAW,EAAK,CAClB,CACH,GAEA,CACF,EAAG,CAACb,EAAMC,EAASC,EAAUC,CAAQ,CAAC,EAElCS,QAEC,OAAI,UAAU,2DACb,SAAAqC,OAAC,OAAI,UAAU,cACb,UAAAC,MAACC,EAAA,CAAgB,KAAMC,EAAW,UAAU,2CAA2C,EACvFF,MAAC,KAAE,UAAU,gBAAgB,qCAAyB,GACxD,EACF,EAIApC,QAEC,OAAI,UAAU,kEACb,SAAAmC,OAAC,OAAI,UAAU,cACb,UAAAC,MAACC,EAAA,CAAgB,KAAME,EAAuB,UAAU,4BAA4B,EACpFH,MAAC,OAAI,UAAU,qCAAsC,SAAApC,CAAA,CAAM,GAC7D,EACF,EAKFmC,OAAC,OAAI,UAAU,6BAEb,UAAAC,MAAC,UAAO,UAAU,0CAChB,SAAAA,MAAC,OAAI,UAAU,8BACb,SAAAD,OAAC,OAAI,UAAU,oCACb,UAAAA,OAAC,OAAI,UAAU,0BACb,UAAAC,MAAC,OAAI,UAAU,+EACb,SAAAA,MAACC,GAAgB,KAAMG,EAAY,UAAU,UAAU,EACzD,SACC,OACC,UAAAJ,MAAC,MAAG,UAAU,sCAAsC,0BAAc,EAClED,OAAC,KAAE,UAAU,yBAAyB,2BAAejC,GAAa,MAAQ,WAAU,GACtF,GACF,EACAiC,OAAC,UACC,QAAS,IAAM5C,EAAS,SAAS,EACjC,UAAU,+DAEV,UAAA6C,MAACC,EAAA,CAAgB,KAAM,aAAc,EAAE,WAEzC,EACF,EACF,EACF,EAEAF,OAAC,OAAI,UAAU,wBAEb,UAAAA,OAAC,OAAI,UAAU,4EACb,UAAAA,OAAC,OAAI,UAAU,+BACb,UAAAC,MAAC,OAAI,UAAU,+EACb,SAAAA,MAACC,GAAgB,KAAMI,EAAW,UAAU,UAAU,EACxD,EACAL,MAAC,MAAG,UAAU,qCAAqC,8BAAkB,GACvE,EAEAD,OAAC,OAAI,UAAU,wCACb,UAAAA,OAAC,OAAI,UAAU,YACb,UAAAA,OAAC,OACC,UAAAC,MAAC,SAAM,UAAU,gDAAgD,uBAAW,QAC3E,KAAE,UAAU,eAAgB,SAAA3C,GAAY,YAAc,aAAa,GACtE,SACC,OACC,UAAA2C,MAAC,SAAM,UAAU,gDAAgD,uBAAW,QAC3E,KAAE,UAAU,eAAgB,SAAA3C,GAAY,YAAc,aAAa,GACtE,SACC,OACC,UAAA2C,MAAC,SAAM,UAAU,gDAAgD,mBAAO,EACxED,OAAC,KAAE,UAAU,eAAgB,UAAA1C,GAAY,SAAW,aAAa,YAAQ,GAC3E,SACC,OACC,UAAA2C,MAAC,SAAM,UAAU,gDAAgD,uBAAW,QAC3E,KAAE,UAAU,eAAgB,SAAA3C,GAAY,aAAe,2BAA2B,GACrF,GACF,EAEA0C,OAAC,OAAI,UAAU,YACb,UAAAA,OAAC,OACC,UAAAC,MAAC,SAAM,UAAU,gDAAgD,sBAAU,EAC3EA,MAAC,KAAE,UAAU,eAAgB,YAAY,gBAAkB3C,GAAY,YAAc,aAAa,GACpG,SACC,OACC,UAAA2C,MAAC,SAAM,UAAU,gDAAgD,oBAAQ,QACxE,KAAE,UAAU,eAAgB,SAAA3C,GAAY,UAAY,aAAa,GACpE,SACC,OACC,UAAA2C,MAAC,SAAM,UAAU,gDAAgD,6BAAiB,EAClFD,OAAC,KAAE,UAAU,eAAgB,UAAAvC,EAAiB,QAAU,EAAE,aAAS,GACrE,SACC,OACC,UAAAwC,MAAC,SAAM,UAAU,gDAAgD,kBAAM,EACvEA,MAAC,QAAK,UAAW,4EAA6E,kBAE9F,GACF,GACF,GACF,GACF,EAGAD,OAAC,OAAI,UAAU,6CACb,UAAAA,OAAC,MACC,GAAI,eAAe1C,EAAW,IAAI,IAAIA,EAAW,OAAO,IAAIA,EAAW,QAAQ,IAAIA,EAAW,EAAE,GAChG,UAAU,8FAEV,UAAA0C,OAAC,OAAI,UAAU,+BACb,UAAAC,MAAC,OAAI,UAAU,qEACb,SAAAA,MAACC,GAAgB,KAAMK,EAAS,UAAU,qBAAqB,EACjE,EACAN,MAAC,MAAG,UAAU,qCAAqC,2BAAe,GACpE,EACAA,MAAC,KAAE,UAAU,sBAAsB,iEAEnC,EACAD,OAAC,OAAI,UAAU,0HACb,UAAAC,MAACC,EAAA,CAAgB,KAAM,iBAAkB,EAAE,mBAE7C,KAGFF,OAAC,MACC,GAAI,WAAW1C,EAAW,IAAI,IAAIA,EAAW,OAAO,IAAIA,EAAW,QAAQ,IAAIA,EAAW,EAAE,GAC5F,UAAU,8FAEV,UAAA0C,OAAC,OAAI,UAAU,+BACb,UAAAC,MAAC,OAAI,UAAU,mEACb,SAAAA,MAACC,GAAgB,KAAMM,EAAiB,UAAU,qBAAqB,EACzE,EACAP,MAAC,MAAG,UAAU,qCAAqC,yBAAa,GAClE,EACAA,MAAC,KAAE,UAAU,sBAAsB,6DAEnC,EACAD,OAAC,OAAI,UAAU,sHACb,UAAAC,MAACC,EAAA,CAAgB,KAAM,OAAQ,EAAE,iBAEnC,IACF,EACF,EAGAF,OAAC,OAAI,UAAU,4DACb,UAAAA,OAAC,OAAI,UAAU,+BACb,UAAAC,MAAC,OAAI,UAAU,+EACb,SAAAA,MAACC,GAAgB,KAAM,WAAY,UAAU,UAAU,EACzD,EACAD,MAAC,MAAG,UAAU,qCAAqC,6BAAiB,GACtE,EAEAD,OAAC,OAAI,UAAU,wCACb,UAAAA,OAAC,OAAI,UAAU,sEACb,UAAAC,MAAC,OAAI,UAAU,iCAAkC,SAAAxC,EAAiB,QAAU,EAAE,EAC9EwC,MAAC,OAAI,UAAU,yBAAyB,6BAAiB,GAC3D,EACAD,OAAC,OAAI,UAAU,sEACb,UAAAC,MAAC,OAAI,UAAU,oCAAoC,eAAG,EACtDA,MAAC,OAAI,UAAU,yBAAyB,8BAAkB,GAC5D,EACAD,OAAC,OAAI,UAAU,sEACb,UAAAC,MAAC,OAAI,UAAU,kCAAkC,eAAG,EACpDA,MAAC,OAAI,UAAU,yBAAyB,yBAAa,GACvD,EACAD,OAAC,OAAI,UAAU,sEACb,UAAAC,MAAC,OAAI,UAAU,iCAAiC,cAAE,EAClDA,MAAC,OAAI,UAAU,yBAAyB,uBAAW,GACrD,GACF,GACF,EAGAD,OAAC,OAAI,UAAU,uDACb,UAAAA,OAAC,OAAI,UAAU,+BACb,UAAAC,MAAC,OAAI,UAAU,+EACb,SAAAA,MAACC,GAAgB,KAAMO,EAAS,UAAU,UAAU,EACtD,EACAR,MAAC,MAAG,UAAU,qCAAqC,2BAAe,GACpE,EAEAD,OAAC,OAAI,UAAU,YACb,UAAAA,OAAC,OAAI,UAAU,kFACb,UAAAC,MAAC,OAAI,UAAU,qEACb,SAAAA,MAACC,GAAgB,KAAMQ,EAAY,UAAU,qBAAqB,EACpE,EACAV,OAAC,OAAI,UAAU,SACb,UAAAC,MAAC,MAAG,UAAU,mCAAmC,uCAA2B,EAC5EA,MAAC,KAAE,UAAU,yBAAyB,yCAA6B,GACrE,EACAA,MAAC,OAAI,UAAU,yBAAyB,uBAAW,GACrD,EAEAD,OAAC,OAAI,UAAU,kFACb,UAAAC,MAAC,OAAI,UAAU,mEACb,SAAAA,MAACC,GAAgB,KAAMS,EAAe,UAAU,qBAAqB,EACvE,EACAX,OAAC,OAAI,UAAU,SACb,UAAAC,MAAC,MAAG,UAAU,mCAAmC,uCAA2B,EAC5EA,MAAC,KAAE,UAAU,yBAAyB,4CAAgC,GACxE,EACAA,MAAC,OAAI,UAAU,yBAAyB,qBAAS,GACnD,EAEAD,OAAC,OAAI,UAAU,kFACb,UAAAC,MAAC,OAAI,UAAU,kEACb,SAAAA,MAACC,GAAgB,KAAMM,EAAiB,UAAU,qBAAqB,EACzE,EACAR,OAAC,OAAI,UAAU,SACb,UAAAC,MAAC,MAAG,UAAU,mCAAmC,0BAAc,EAC/DA,MAAC,KAAE,UAAU,yBAAyB,uCAA2B,GACnE,EACAA,MAAC,OAAI,UAAU,yBAAyB,sBAAU,GACpD,GACF,GACF,GACF,GACF,CAEJ","names":["CourseDetails","year","section","semester","courseId","useParams","navigate","useNavigate","courseData","setCourseData","useState","enrolledStudents","setEnrolledStudents","loading","setLoading","error","setError","facultyData","setFacultyData","useEffect","auth","__vitePreload","n","onAuthStateChanged","user","facultyRef","doc","db","facultySnap","getDoc","foundCourseData","coursePath","courseSnap","cg","q","query","where","snap","getDocs","pathVariations","pathSegments","fetchStudents","allStudents","sectionKey","studentId","studentPromises","studentPathVariations","studentPath","studentSnap","students","jsxs","jsx","FontAwesomeIcon","faSpinner","faExclamationTriangle","faBookOpen","faFileAlt","faUsers","faGraduationCap","faClock","faBuilding","faCalendarAlt"],"ignoreList":[],"sources":["../../src/components/CourseDetails.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useParams, useNavigate } from \"react-router-dom\";\r\nimport { doc, getDoc, collection, getDocs, query, where } from \"firebase/firestore\";\r\nimport { db } from \"../firebase\";\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { \r\n  faArrowLeft,\r\n  faBookOpen,\r\n  faUsers,\r\n  faCalendarAlt,\r\n  faClock,\r\n  faGraduationCap,\r\n  faChalkboardTeacher,\r\n  faUser,\r\n  faExclamationTriangle,\r\n  faSpinner,\r\n  faBuilding,\r\n  faFileAlt,\r\n  faCheckCircle\r\n} from '@fortawesome/free-solid-svg-icons';\r\n\r\nconst CourseDetails = () => {\r\n  const { year, section, semester, courseId } = useParams();\r\n  const navigate = useNavigate();\r\n  const [courseData, setCourseData] = useState(null);\r\n  const [enrolledStudents, setEnrolledStudents] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [facultyData, setFacultyData] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const fetchCourseDetails = async () => {\r\n      try {\r\n        setLoading(true);\r\n        setError(null);\r\n\r\n        console.log(\"🔍 Fetching course details for:\", { year, section, semester, courseId });\r\n\r\n        // First, try to get faculty data to improve course information\r\n        let facultyData = null;\r\n        try {\r\n          const { auth } = await import(\"../firebase\");\r\n          const { onAuthStateChanged } = await import(\"firebase/auth\");\r\n          \r\n          onAuthStateChanged(auth, async (user) => {\r\n            if (user) {\r\n              const facultyRef = doc(db, 'faculty', 'CSE_DS', 'members', user.uid);\r\n              const facultySnap = await getDoc(facultyRef);\r\n              if (facultySnap.exists()) {\r\n                facultyData = facultySnap.data();\r\n                setFacultyData(facultyData);\r\n                console.log(\"✅ Faculty data fetched:\", facultyData.name);\r\n              }\r\n            }\r\n          });\r\n        } catch (error) {\r\n          console.log(\"❌ Could not fetch faculty data:\", error);\r\n        }\r\n\r\n                 let foundCourseData = null;\r\n\r\n         // DYNAMIC UNIVERSAL FETCH - Works with any Firestore structure\r\n         const fetchCourseData = async () => {\r\n           console.log(\"🚀 Dynamic course fetch starting...\");\r\n           \r\n           // Strategy 1: Try exact path first (your current structure)\r\n           try {\r\n             const coursePath = doc(db, 'courses', 'CSE_DS', 'year_sem', `${year}_${semester}`, 'courseDetails', courseId);\r\n             const courseSnap = await getDoc(coursePath);\r\n             if (courseSnap.exists()) {\r\n               foundCourseData = courseSnap.data();\r\n               console.log(\"✅ Course found via exact path\");\r\n               return foundCourseData;\r\n             }\r\n           } catch (error) {\r\n             console.log(\"❌ Exact path failed, trying alternatives...\");\r\n           }\r\n\r\n           // Strategy 2: Try collectionGroup query (universal)\r\n           try {\r\n             const cg = collectionGroup(db, \"courseDetails\");\r\n             const q = query(cg, where(\"__name__\", \"==\", courseId));\r\n             const snap = await getDocs(q);\r\n             if (!snap.empty) {\r\n               foundCourseData = snap.docs[0].data();\r\n               console.log(\"✅ Course found via collectionGroup\");\r\n               return foundCourseData;\r\n             }\r\n           } catch (error) {\r\n             console.log(\"❌ CollectionGroup failed, trying path variations...\");\r\n           }\r\n\r\n           // Strategy 3: Try multiple path variations dynamically\r\n           const pathVariations = [\r\n             // Your exact structure\r\n             ['courses', 'CSE_DS', 'year_sem', `${year}_${semester}`, 'courseDetails', courseId],\r\n             // Alternative structures\r\n             ['courses', 'CSE_DS', 'year_sem', 'III_5', 'courseDetails', courseId],\r\n             ['courses', 'CSE_DS', 'year_sem', 'III_6', 'courseDetails', courseId],\r\n             ['courses', 'CSE_DS', 'year_sem', 'III_7', 'courseDetails', courseId],\r\n             ['courses', 'CSE_DS', 'year_sem', 'III_8', 'courseDetails', courseId],\r\n             // Old structure variations\r\n             ['courses', year, section, semester, 'courseDetails', courseId],\r\n             ['courses', 'III', 'A', '5', 'courseDetails', courseId],\r\n             ['courses', 'III', 'B', '5', 'courseDetails', courseId],\r\n             ['courses', 'III', 'C', '5', 'courseDetails', courseId],\r\n             // Direct course structure\r\n             ['courses', courseId],\r\n             ['courseDetails', courseId],\r\n             // Department variations\r\n             ['courses', 'CSE', 'year_sem', `${year}_${semester}`, 'courseDetails', courseId],\r\n             ['courses', 'CSEDS', 'year_sem', `${year}_${semester}`, 'courseDetails', courseId],\r\n           ];\r\n\r\n           for (const pathSegments of pathVariations) {\r\n             try {\r\n               const coursePath = doc(db, ...pathSegments);\r\n               const courseSnap = await getDoc(coursePath);\r\n               if (courseSnap.exists()) {\r\n                 foundCourseData = courseSnap.data();\r\n                 console.log(\"✅ Course found via path variation:\", pathSegments.join('/'));\r\n                 return foundCourseData;\r\n               }\r\n             } catch (error) {\r\n               // Continue to next variation\r\n             }\r\n           }\r\n\r\n           console.log(\"❌ No course found in any path variation\");\r\n           return null;\r\n         };\r\n\r\n         // Execute dynamic fetch\r\n         foundCourseData = await fetchCourseData();\r\n\r\n         // If no course data found, create a fallback\r\n         if (!foundCourseData) {\r\n           console.log(\"⚠️ No course data found, creating fallback data\");\r\n           foundCourseData = {\r\n             courseName: `Course ${courseId}`,\r\n             courseCode: courseId,\r\n             description: `Course ${courseId} - ${facultyData?.name || 'Faculty'}`,\r\n             displayYear: year || \"III\",\r\n             displaySection: section || \"A\", \r\n             displaySemester: semester || \"5\",\r\n             displayDepartment: \"Computer Science & Engineering (Data Science)\",\r\n             credits: 3,\r\n             studentsBySection: {},\r\n             students: []\r\n           };\r\n         }\r\n\r\n         // Dynamic student fetching\r\n         const fetchStudents = async (courseData) => {\r\n           if (!courseData) return [];\r\n\r\n           console.log(\"📚 Dynamic student fetch starting...\");\r\n           const allStudents = [];\r\n\r\n           // Strategy 1: studentsBySection (your structure)\r\n           if (courseData.studentsBySection && typeof courseData.studentsBySection === 'object') {\r\n             console.log(\"📚 Found studentsBySection structure\");\r\n             Object.keys(courseData.studentsBySection).forEach(sectionKey => {\r\n               if (Array.isArray(courseData.studentsBySection[sectionKey])) {\r\n                 courseData.studentsBySection[sectionKey].forEach(studentId => {\r\n                   allStudents.push({ id: studentId, section: sectionKey });\r\n                 });\r\n               }\r\n             });\r\n           }\r\n\r\n           // Strategy 2: students array (alternative structure)\r\n           if (courseData.students && Array.isArray(courseData.students)) {\r\n             console.log(\"📚 Found students array structure\");\r\n             courseData.students.forEach(studentId => {\r\n               allStudents.push({ id: studentId, section: 'A' });\r\n             });\r\n           }\r\n\r\n           // Strategy 3: enrolledStudents array\r\n           if (courseData.enrolledStudents && Array.isArray(courseData.enrolledStudents)) {\r\n             console.log(\"📚 Found enrolledStudents array structure\");\r\n             courseData.enrolledStudents.forEach(studentId => {\r\n               allStudents.push({ id: studentId, section: 'A' });\r\n             });\r\n           }\r\n\r\n           console.log(\"📚 Total student IDs found:\", allStudents.length);\r\n\r\n           // Dynamic student detail fetching\r\n           const studentPromises = allStudents.map(async ({ id: studentId, section: sectionKey }) => {\r\n             const studentPathVariations = [\r\n               // Your exact structure\r\n               ['students', 'CSEDS', `${year}-${sectionKey}`, studentId],\r\n               ['students', 'CSE_DS', `${year}_${sectionKey}`, studentId],\r\n               // Alternative structures\r\n               ['students', 'CSEDS', 'III-A', studentId],\r\n               ['students', 'CSE_DS', 'III_A', studentId],\r\n               ['students', 'CSE', 'III-A', studentId],\r\n               ['students', 'CSEDS', 'III-B', studentId],\r\n               ['students', 'CSE_DS', 'III_B', studentId],\r\n               ['students', 'CSEDS', 'III-C', studentId],\r\n               ['students', 'CSE_DS', 'III_C', studentId],\r\n               // Direct student structure\r\n               ['students', studentId],\r\n               ['studentDetails', studentId],\r\n               // Department variations\r\n               ['students', 'CSE', `${year}-${sectionKey}`, studentId],\r\n               ['students', 'CSEDS', `${year}_${sectionKey}`, studentId],\r\n             ];\r\n\r\n             for (const pathSegments of studentPathVariations) {\r\n               try {\r\n                 const studentPath = doc(db, ...pathSegments);\r\n                 const studentSnap = await getDoc(studentPath);\r\n                 if (studentSnap.exists()) {\r\n                   return { \r\n                     id: studentId, \r\n                     section: sectionKey,\r\n                     ...studentSnap.data() \r\n                   };\r\n                 }\r\n               } catch (error) {\r\n                 // Continue to next variation\r\n               }\r\n             }\r\n\r\n             // Fallback student data\r\n             return { \r\n               id: studentId, \r\n               name: `Student ${studentId}`, \r\n               rollNo: studentId,\r\n               section: sectionKey\r\n             };\r\n           });\r\n\r\n           const students = await Promise.all(studentPromises);\r\n           console.log(\"✅ Students fetched dynamically:\", students.length);\r\n           return students;\r\n         };\r\n\r\n         // Execute dynamic student fetch\r\n         if (foundCourseData) {\r\n           const students = await fetchStudents(foundCourseData);\r\n           setEnrolledStudents(students);\r\n         } else {\r\n           console.log(\"⚠️ No course data available for student fetch\");\r\n           setEnrolledStudents([]);\r\n         }\r\n\r\n                 // ONLY DIRECT FETCH - No fallbacks needed with your exact schema\r\n\r\n                 // Set course data with exact schema mapping - Handle null foundCourseData\r\n         setCourseData({\r\n           id: courseId,\r\n           year: foundCourseData?.displayYear || year || \"III\",\r\n           section: foundCourseData?.displaySection || section || \"A\",\r\n           semester: foundCourseData?.displaySemester || semester || \"5\",\r\n           courseName: foundCourseData?.courseName || `Course ${courseId}`,\r\n           courseCode: foundCourseData?.courseCode || courseId,\r\n           description: foundCourseData?.description || `Course ${courseId} - ${facultyData?.name || 'Faculty'}`,\r\n           instructor: foundCourseData?.instructor,\r\n           instructorName: facultyData?.name || foundCourseData?.instructor || \"Faculty Member\",\r\n           credits: foundCourseData?.credits || 3,\r\n           department: foundCourseData?.displayDepartment || \"Computer Science & Engineering (Data Science)\",\r\n           studentsBySection: foundCourseData?.studentsBySection || {},\r\n           masterCoursePath: foundCourseData?.masterCoursePath,\r\n           semesterKey: foundCourseData?.semesterKey || `${year}_${semester}`,\r\n           students: foundCourseData?.students || []\r\n         });\r\n\r\n        // Fetch students (simplified)\r\n        setEnrolledStudents([]);\r\n\r\n             } catch (error) {\r\n         console.error(\"❌ Error:\", error);\r\n         console.log(\"🔍 Debug info:\", { year, section, semester, courseId, foundCourseData });\r\n         setError(`Error fetching course details: ${error.message}`);\r\n       } finally {\r\n         setLoading(false);\r\n       }\r\n    };\r\n\r\n    fetchCourseDetails();\r\n  }, [year, section, semester, courseId]);\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <FontAwesomeIcon icon={faSpinner} className=\"text-blue-600 text-4xl animate-spin mb-4\" />\r\n          <p className=\"text-gray-600\">Loading course details...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"min-h-screen bg-background flex items-center justify-center p-6\">\r\n        <div className=\"text-center\">\r\n          <FontAwesomeIcon icon={faExclamationTriangle} className=\"text-accent text-4xl mb-4\" />\r\n          <div className=\"text-primary text-xl font-semibold\">{error}</div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-background\">\r\n      {/* Header */}\r\n      <header className=\"bg-surface border-b border-border-theme\">\r\n        <div className=\"max-w-6xl mx-auto px-6 py-3\">\r\n          <div className=\"flex justify-between items-center\">\r\n            <div className=\"flex items-center gap-4\">\r\n              <div className=\"w-8 h-8 bg-accent/10 text-accent rounded-md flex items-center justify-center\">\r\n                <FontAwesomeIcon icon={faBookOpen} className=\"text-sm\" />\r\n              </div>\r\n              <div>\r\n                <h1 className=\"text-2xl font-semibold text-primary\">Course Details</h1>\r\n                <p className=\"text-secondary text-xs\">Welcome back, {facultyData?.name || 'Faculty'}</p>\r\n              </div>\r\n            </div>\r\n            <button\r\n              onClick={() => navigate('/logout')}\r\n              className=\"btn-primary inline-flex items-center gap-2 px-3 py-2 text-sm\"\r\n            >\r\n              <FontAwesomeIcon icon={faSignOutAlt} />\r\n              Logout\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </header>\r\n\r\n      <div className=\"max-w-6xl mx-auto p-6\">\r\n        {/* Course Information */}\r\n        <div className=\"bg-surface border border-border-theme rounded-md p-6 mb-6 animate-fade-in\">\r\n          <div className=\"flex items-center gap-3 mb-6\">\r\n            <div className=\"w-8 h-8 bg-accent/10 text-accent rounded-md flex items-center justify-center\">\r\n              <FontAwesomeIcon icon={faFileAlt} className=\"text-sm\" />\r\n            </div>\r\n            <h2 className=\"text-lg font-semibold text-primary\">Course Information</h2>\r\n          </div>\r\n          \r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n            <div className=\"space-y-4\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-secondary mb-1\">Course Name</label>\r\n                <p className=\"text-primary\">{courseData?.courseName || 'Loading...'}</p>\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-secondary mb-1\">Course Code</label>\r\n                <p className=\"text-primary\">{courseData?.courseCode || 'Loading...'}</p>\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-secondary mb-1\">Credits</label>\r\n                <p className=\"text-primary\">{courseData?.credits || 'Loading...'} credits</p>\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-secondary mb-1\">Description</label>\r\n                <p className=\"text-primary\">{courseData?.description || 'No description available'}</p>\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"space-y-4\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-secondary mb-1\">Instructor</label>\r\n                <p className=\"text-primary\">{courseData?.instructorName || courseData?.instructor || 'Loading...'}</p>\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-secondary mb-1\">Semester</label>\r\n                <p className=\"text-primary\">{courseData?.semester || 'Loading...'}</p>\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-secondary mb-1\">Enrolled Students</label>\r\n                <p className=\"text-primary\">{enrolledStudents.length || 0} students</p>\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-secondary mb-1\">Status</label>\r\n                <span className={`px-2 py-1 rounded-full text-xs font-medium bg-secondary/10 text-secondary`}>\r\n                  Active\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Quick Actions */}\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6\">\r\n          <Link\r\n            to={`/attendance/${courseData.year}/${courseData.section}/${courseData.semester}/${courseData.id}`}\r\n            className=\"bg-surface border border-border-theme rounded-md p-6 hover:shadow transition cursor-pointer\"\r\n          >\r\n            <div className=\"flex items-center gap-3 mb-4\">\r\n              <div className=\"w-8 h-8 bg-secondary rounded-full flex items-center justify-center\">\r\n                <FontAwesomeIcon icon={faUsers} className=\"text-white text-sm\" />\r\n              </div>\r\n              <h3 className=\"text-lg font-semibold text-primary\">Take Attendance</h3>\r\n            </div>\r\n            <p className=\"text-secondary mb-4\">\r\n              Mark attendance for students enrolled in this course.\r\n            </p>\r\n            <div className=\"inline-flex items-center gap-2 w-full justify-center px-4 py-2 bg-secondary text-white rounded-md hover:bg-secondary/90\">\r\n              <FontAwesomeIcon icon={faClipboardCheck} />\r\n              Take Attendance\r\n            </div>\r\n          </Link>\r\n\r\n          <Link\r\n            to={`/grades/${courseData.year}/${courseData.section}/${courseData.semester}/${courseData.id}`}\r\n            className=\"bg-surface border border-border-theme rounded-md p-6 hover:shadow transition cursor-pointer\"\r\n          >\r\n            <div className=\"flex items-center gap-3 mb-4\">\r\n              <div className=\"w-8 h-8 bg-primary rounded-full flex items-center justify-center\">\r\n                <FontAwesomeIcon icon={faGraduationCap} className=\"text-white text-sm\" />\r\n              </div>\r\n              <h3 className=\"text-lg font-semibold text-primary\">Manage Grades</h3>\r\n            </div>\r\n            <p className=\"text-secondary mb-4\">\r\n              Update and manage student grades for this course.\r\n            </p>\r\n            <div className=\"inline-flex items-center gap-2 w-full justify-center px-4 py-2 bg-primary text-white rounded-md hover:bg-primary/90\">\r\n              <FontAwesomeIcon icon={faEdit} />\r\n              Manage Grades\r\n            </div>\r\n          </Link>\r\n        </div>\r\n\r\n        {/* Course Statistics */}\r\n        <div className=\"bg-surface border border-border-theme rounded-md p-6 mb-6\">\r\n          <div className=\"flex items-center gap-3 mb-6\">\r\n            <div className=\"w-8 h-8 bg-accent/10 text-accent rounded-md flex items-center justify-center\">\r\n              <FontAwesomeIcon icon={faChartBar} className=\"text-sm\" />\r\n            </div>\r\n            <h2 className=\"text-lg font-semibold text-primary\">Course Statistics</h2>\r\n          </div>\r\n          \r\n          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n            <div className=\"bg-background rounded-md p-4 text-center border border-border-theme\">\r\n              <div className=\"text-2xl font-bold text-accent\">{enrolledStudents.length || 0}</div>\r\n              <div className=\"text-sm text-secondary\">Enrolled Students</div>\r\n            </div>\r\n            <div className=\"bg-background rounded-md p-4 text-center border border-border-theme\">\r\n              <div className=\"text-2xl font-bold text-secondary\">85%</div>\r\n              <div className=\"text-sm text-secondary\">Average Attendance</div>\r\n            </div>\r\n            <div className=\"bg-background rounded-md p-4 text-center border border-border-theme\">\r\n              <div className=\"text-2xl font-bold text-primary\">78%</div>\r\n              <div className=\"text-sm text-secondary\">Average Grade</div>\r\n            </div>\r\n            <div className=\"bg-background rounded-md p-4 text-center border border-border-theme\">\r\n              <div className=\"text-2xl font-bold text-accent\">12</div>\r\n              <div className=\"text-sm text-secondary\">Assignments</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Recent Activity */}\r\n        <div className=\"bg-surface border border-border-theme rounded-md p-6\">\r\n          <div className=\"flex items-center gap-3 mb-6\">\r\n            <div className=\"w-8 h-8 bg-accent/10 text-accent rounded-md flex items-center justify-center\">\r\n              <FontAwesomeIcon icon={faClock} className=\"text-sm\" />\r\n            </div>\r\n            <h2 className=\"text-lg font-semibold text-primary\">Recent Activity</h2>\r\n          </div>\r\n          \r\n          <div className=\"space-y-4\">\r\n            <div className=\"flex items-center gap-4 p-3 bg-background rounded-md border border-border-theme\">\r\n              <div className=\"w-8 h-8 bg-secondary rounded-full flex items-center justify-center\">\r\n                <FontAwesomeIcon icon={faBuilding} className=\"text-white text-xs\" />\r\n              </div>\r\n              <div className=\"flex-1\">\r\n                <h4 className=\"font-medium text-primary text-sm\">Attendance marked for today</h4>\r\n                <p className=\"text-xs text-secondary\">32 students present, 3 absent</p>\r\n              </div>\r\n              <div className=\"text-xs text-secondary\">2 hours ago</div>\r\n            </div>\r\n            \r\n            <div className=\"flex items-center gap-4 p-3 bg-background rounded-md border border-border-theme\">\r\n              <div className=\"w-8 h-8 bg-primary rounded-full flex items-center justify-center\">\r\n                <FontAwesomeIcon icon={faCalendarAlt} className=\"text-white text-xs\" />\r\n              </div>\r\n              <div className=\"flex-1\">\r\n                <h4 className=\"font-medium text-primary text-sm\">Assignment deadline updated</h4>\r\n                <p className=\"text-xs text-secondary\">Project submission due next week</p>\r\n              </div>\r\n              <div className=\"text-xs text-secondary\">1 day ago</div>\r\n            </div>\r\n            \r\n            <div className=\"flex items-center gap-4 p-3 bg-background rounded-md border border-border-theme\">\r\n              <div className=\"w-8 h-8 bg-accent rounded-full flex items-center justify-center\">\r\n                <FontAwesomeIcon icon={faGraduationCap} className=\"text-white text-xs\" />\r\n              </div>\r\n              <div className=\"flex-1\">\r\n                <h4 className=\"font-medium text-primary text-sm\">Grades updated</h4>\r\n                <p className=\"text-xs text-secondary\">Mid-term exam grades posted</p>\r\n              </div>\r\n              <div className=\"text-xs text-secondary\">3 days ago</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CourseDetails;\r\n"],"file":"assets/CourseDetails-CIEnkWWl.js"}