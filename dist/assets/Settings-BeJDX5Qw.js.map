{"version":3,"file":"Settings-BeJDX5Qw.js","sources":["../../src/components/Settings.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { \r\n  faCog, \r\n  faUser, \r\n  faBell, \r\n  faShieldAlt, \r\n  faPalette, \r\n  faLanguage, \r\n  faDownload, \r\n  faUpload, \r\n  faTrash, \r\n  faSave, \r\n  faEye, \r\n  faEyeSlash, \r\n  faCheckCircle, \r\n  faExclamationTriangle, \r\n  faMoon, \r\n  faSun, \r\n  faDesktop, \r\n  faMobile, \r\n  faTablet, \r\n  faGlobe, \r\n  faLock, \r\n  faUnlock, \r\n  faKey, \r\n  faEnvelope, \r\n  faPhone, \r\n  faMapMarkerAlt, \r\n  faGraduationCap, \r\n  faUniversity, \r\n  faCalendarAlt, \r\n  faClock,\r\n  faEdit,\r\n  faCamera,\r\n  faImage,\r\n  faFileAlt,\r\n  faDatabase,\r\n  faCloud,\r\n  faSync,\r\n  faHistory,\r\n  faArchive,\r\n  faSignOutAlt,\r\n  faHome\r\n} from '@fortawesome/free-solid-svg-icons';\r\nimport { auth, db } from \"../firebase\";\r\nimport { onAuthStateChanged, updatePassword, EmailAuthProvider, reauthenticateWithCredential } from \"firebase/auth\";\r\nimport { doc, getDoc, setDoc, updateDoc } from \"firebase/firestore\";\r\nimport { ref, uploadBytes, getDownloadURL } from \"firebase/storage\";\r\nimport { storage } from \"../firebase\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { toast } from 'react-toastify';\r\n\r\nconst Settings = () => {\r\n  const [loading, setLoading] = useState(true);\r\n  const [saving, setSaving] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [user, setUser] = useState(null);\r\n  const [activeTab, setActiveTab] = useState('profile');\r\n  const [showPassword, setShowPassword] = useState(false);\r\n  const [passwordData, setPasswordData] = useState({\r\n    currentPassword: '',\r\n    newPassword: '',\r\n    confirmPassword: ''\r\n  });\r\n  const [settings, setSettings] = useState({\r\n    profile: {\r\n      displayName: '',\r\n      email: '',\r\n      phone: '',\r\n      department: '',\r\n      designation: '',\r\n      officeLocation: '',\r\n      profilePicture: null\r\n    },\r\n    preferences: {\r\n      theme: 'light',\r\n      language: 'en',\r\n      notifications: {\r\n        email: true,\r\n        push: true,\r\n        sms: false\r\n      },\r\n      privacy: {\r\n        profileVisibility: 'public',\r\n        showEmail: true,\r\n        showPhone: false\r\n      }\r\n    },\r\n    security: {\r\n      twoFactorAuth: false,\r\n      sessionTimeout: 30,\r\n      passwordExpiry: 90\r\n    }\r\n  });\r\n\r\n  // Fetch user data and settings from Firestore\r\n  useEffect(() => {\r\n    const fetchUserData = async () => {\r\n      try {\r\n        setLoading(true);\r\n        setError(null);\r\n\r\n        onAuthStateChanged(auth, async (user) => {\r\n          if (!user) {\r\n            setError(\"No user is logged in.\");\r\n            setLoading(false);\r\n            return;\r\n          }\r\n\r\n          setUser(user);\r\n\r\n          // Fetch user settings from Firestore\r\n          const userSettingsRef = doc(db, 'userSettings', user.uid);\r\n          const userSettingsDoc = await getDoc(userSettingsRef);\r\n\r\n          if (userSettingsDoc.exists()) {\r\n            // Load existing settings\r\n            const existingSettings = userSettingsDoc.data();\r\n            setSettings(prev => ({\r\n              ...prev,\r\n              ...existingSettings,\r\n              profile: {\r\n                ...prev.profile,\r\n                ...existingSettings.profile,\r\n                displayName: existingSettings.profile?.displayName || user.displayName || 'Faculty Member',\r\n                email: existingSettings.profile?.email || user.email || 'faculty@university.edu',\r\n              }\r\n            }));\r\n          } else {\r\n            // Create default settings for new user\r\n            const defaultSettings = {\r\n              profile: {\r\n                displayName: user.displayName || 'Faculty Member',\r\n                email: user.email || 'faculty@university.edu',\r\n                phone: '+1 (555) 123-4567',\r\n                department: 'Computer Science & Engineering',\r\n                designation: 'Assistant Professor',\r\n                officeLocation: 'Room 205, Block A',\r\n                profilePicture: null\r\n              },\r\n              preferences: {\r\n                theme: 'light',\r\n                language: 'en',\r\n                notifications: {\r\n                  email: true,\r\n                  push: true,\r\n                  sms: false\r\n                },\r\n                privacy: {\r\n                  profileVisibility: 'public',\r\n                  showEmail: true,\r\n                  showPhone: false\r\n                }\r\n              },\r\n              security: {\r\n                twoFactorAuth: false,\r\n                sessionTimeout: 30,\r\n                passwordExpiry: 90\r\n              }\r\n            };\r\n\r\n            // Save default settings to Firestore\r\n            await setDoc(userSettingsRef, defaultSettings);\r\n            setSettings(defaultSettings);\r\n          }\r\n\r\n          setLoading(false);\r\n        });\r\n      } catch (err) {\r\n        console.error(\"Error fetching user data:\", err.message);\r\n        setError(err.message || \"Error fetching user data.\");\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchUserData();\r\n  }, []);\r\n\r\n  const handleInputChange = (section, field, value) => {\r\n    setSettings(prev => ({\r\n      ...prev,\r\n      [section]: {\r\n        ...prev[section],\r\n        [field]: value\r\n      }\r\n    }));\r\n  };\r\n\r\n  const handleNestedChange = (section, subsection, field, value) => {\r\n    setSettings(prev => ({\r\n      ...prev,\r\n      [section]: {\r\n        ...prev[section],\r\n        [subsection]: {\r\n          ...prev[section][subsection],\r\n          [field]: value\r\n        }\r\n      }\r\n    }));\r\n  };\r\n\r\n  const handlePasswordChange = (field, value) => {\r\n    setPasswordData(prev => ({\r\n      ...prev,\r\n      [field]: value\r\n    }));\r\n  };\r\n\r\n  const handleSaveSettings = async () => {\r\n    if (!user) {\r\n      toast.error('No user logged in');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setSaving(true);\r\n      \r\n      // Update settings in Firestore\r\n      const userSettingsRef = doc(db, 'userSettings', user.uid);\r\n      await updateDoc(userSettingsRef, settings);\r\n\r\n      // Update user profile in Firebase Auth if display name changed\r\n      if (settings.profile.displayName !== user.displayName) {\r\n        await user.updateProfile({\r\n          displayName: settings.profile.displayName\r\n        });\r\n      }\r\n\r\n      toast.success('Settings saved successfully!');\r\n    } catch (err) {\r\n      console.error('Error saving settings:', err);\r\n      toast.error('Failed to save settings. Please try again.');\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  const handleChangePassword = async () => {\r\n    if (!user) {\r\n      toast.error('No user logged in');\r\n      return;\r\n    }\r\n\r\n    if (passwordData.newPassword !== passwordData.confirmPassword) {\r\n      toast.error('New passwords do not match');\r\n      return;\r\n    }\r\n\r\n    if (passwordData.newPassword.length < 6) {\r\n      toast.error('Password must be at least 6 characters long');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setSaving(true);\r\n\r\n      // Re-authenticate user before changing password\r\n      const credential = EmailAuthProvider.credential(\r\n        user.email,\r\n        passwordData.currentPassword\r\n      );\r\n      \r\n      await reauthenticateWithCredential(user, credential);\r\n      \r\n      // Change password\r\n      await updatePassword(user, passwordData.newPassword);\r\n\r\n      // Clear password fields\r\n      setPasswordData({\r\n        currentPassword: '',\r\n        newPassword: '',\r\n        confirmPassword: ''\r\n      });\r\n\r\n      toast.success('Password changed successfully!');\r\n    } catch (err) {\r\n      console.error('Error changing password:', err);\r\n      if (err.code === 'auth/wrong-password') {\r\n        toast.error('Current password is incorrect');\r\n      } else if (err.code === 'auth/weak-password') {\r\n        toast.error('Password is too weak');\r\n      } else {\r\n        toast.error('Failed to change password. Please try again.');\r\n      }\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  const handleProfilePictureChange = async (event) => {\r\n    const file = event.target.files[0];\r\n    if (!file) return;\r\n\r\n    if (!user) {\r\n      toast.error('No user logged in');\r\n      return;\r\n    }\r\n\r\n    // Validate file type and size\r\n    if (!file.type.startsWith('image/')) {\r\n      toast.error('Please select an image file');\r\n      return;\r\n    }\r\n\r\n    if (file.size > 5 * 1024 * 1024) { // 5MB limit\r\n      toast.error('Image size must be less than 5MB');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setSaving(true);\r\n\r\n      // Upload image to Firebase Storage\r\n      const storageRef = ref(storage, `profilePictures/${user.uid}/${file.name}`);\r\n      const snapshot = await uploadBytes(storageRef, file);\r\n      const downloadURL = await getDownloadURL(snapshot.ref);\r\n\r\n      // Update settings with new profile picture URL\r\n      const updatedSettings = {\r\n        ...settings,\r\n        profile: {\r\n          ...settings.profile,\r\n          profilePicture: downloadURL\r\n        }\r\n      };\r\n\r\n      setSettings(updatedSettings);\r\n\r\n      // Save to Firestore\r\n      const userSettingsRef = doc(db, 'userSettings', user.uid);\r\n      await updateDoc(userSettingsRef, {\r\n        'profile.profilePicture': downloadURL\r\n      });\r\n\r\n      toast.success('Profile picture updated successfully!');\r\n    } catch (err) {\r\n      console.error('Error uploading profile picture:', err);\r\n      toast.error('Failed to upload profile picture. Please try again.');\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  const handleThemeChange = async (theme) => {\r\n    try {\r\n      handleInputChange('preferences', 'theme', theme);\r\n      \r\n      // Apply theme immediately\r\n      document.documentElement.classList.remove('light', 'dark');\r\n      if (theme === 'auto') {\r\n        // Check system preference\r\n        const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;\r\n        document.documentElement.classList.add(prefersDark ? 'dark' : 'light');\r\n      } else {\r\n        document.documentElement.classList.add(theme);\r\n      }\r\n\r\n      // Save to database\r\n      if (user) {\r\n        const userSettingsRef = doc(db, 'userSettings', user.uid);\r\n        await updateDoc(userSettingsRef, {\r\n          'preferences.theme': theme\r\n        });\r\n      }\r\n    } catch (err) {\r\n      console.error('Error updating theme:', err);\r\n      toast.error('Failed to update theme');\r\n    }\r\n  };\r\n\r\n  const handleLanguageChange = async (language) => {\r\n    try {\r\n      handleInputChange('preferences', 'language', language);\r\n      \r\n      // Save to database\r\n      if (user) {\r\n        const userSettingsRef = doc(db, 'userSettings', user.uid);\r\n        await updateDoc(userSettingsRef, {\r\n          'preferences.language': language\r\n        });\r\n      }\r\n      \r\n      toast.success('Language updated successfully!');\r\n    } catch (err) {\r\n      console.error('Error updating language:', err);\r\n      toast.error('Failed to update language');\r\n    }\r\n  };\r\n\r\n  const handleNotificationToggle = async (type, value) => {\r\n    try {\r\n      handleNestedChange('preferences', 'notifications', type, value);\r\n      \r\n      // Save to database\r\n      if (user) {\r\n        const userSettingsRef = doc(db, 'userSettings', user.uid);\r\n        await updateDoc(userSettingsRef, {\r\n          [`preferences.notifications.${type}`]: value\r\n        });\r\n      }\r\n      \r\n      toast.success(`${type.charAt(0).toUpperCase() + type.slice(1)} notifications ${value ? 'enabled' : 'disabled'}`);\r\n    } catch (err) {\r\n      console.error('Error updating notifications:', err);\r\n      toast.error('Failed to update notification settings');\r\n    }\r\n  };\r\n\r\n  const handlePrivacyToggle = async (field, value) => {\r\n    try {\r\n      handleNestedChange('preferences', 'privacy', field, value);\r\n      \r\n      // Save to database\r\n      if (user) {\r\n        const userSettingsRef = doc(db, 'userSettings', user.uid);\r\n        await updateDoc(userSettingsRef, {\r\n          [`preferences.privacy.${field}`]: value\r\n        });\r\n      }\r\n      \r\n      toast.success('Privacy settings updated');\r\n    } catch (err) {\r\n      console.error('Error updating privacy settings:', err);\r\n      toast.error('Failed to update privacy settings');\r\n    }\r\n  };\r\n\r\n  const handleSecurityToggle = async (field, value) => {\r\n    try {\r\n      handleInputChange('security', field, value);\r\n      \r\n      // Save to database\r\n      if (user) {\r\n        const userSettingsRef = doc(db, 'userSettings', user.uid);\r\n        await updateDoc(userSettingsRef, {\r\n          [`security.${field}`]: value\r\n        });\r\n      }\r\n      \r\n      if (field === 'twoFactorAuth') {\r\n        toast.success(`Two-factor authentication ${value ? 'enabled' : 'disabled'}`);\r\n      }\r\n    } catch (err) {\r\n      console.error('Error updating security settings:', err);\r\n      toast.error('Failed to update security settings');\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gradient-to-br from-indigo-50 via-white to-purple-50 p-6\">\r\n        <div className=\"max-w-6xl mx-auto\">\r\n          <div className=\"mb-8 animate-fade-in\">\r\n            <div className=\"h-12 shimmer rounded-lg mb-4\"></div>\r\n            <div className=\"h-6 shimmer rounded w-1/3\"></div>\r\n          </div>\r\n          <div className=\"grid gap-6 lg:grid-cols-4\">\r\n            <div className=\"lg:col-span-1\">\r\n              <div className=\"glass rounded-xl shadow-lg p-6 animate-fade-in\">\r\n                <div className=\"space-y-4\">\r\n                  {Array.from({ length: 4 }).map((_, i) => (\r\n                    <div key={i} className=\"h-12 shimmer rounded-lg\"></div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"lg:col-span-3\">\r\n              <div className=\"glass rounded-xl shadow-lg p-6 animate-fade-in\">\r\n                <div className=\"space-y-6\">\r\n                  {Array.from({ length: 6 }).map((_, i) => (\r\n                    <div key={i} className=\"space-y-2\">\r\n                      <div className=\"h-4 shimmer rounded w-1/4\"></div>\r\n                      <div className=\"h-10 shimmer rounded-lg\"></div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gradient-to-br from-red-50 to-pink-50 flex items-center justify-center p-6\">\r\n        <div className=\"text-center\">\r\n          <FontAwesomeIcon icon={faExclamationTriangle} className=\"text-red-500 text-6xl mb-4 animate-bounce\" />\r\n          <div className=\"text-red-600 text-xl font-semibold\">{error}</div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const tabs = [\r\n    { id: 'profile', name: 'Profile', icon: faUser },\r\n    { id: 'preferences', name: 'Preferences', icon: faPalette },\r\n    { id: 'security', name: 'Security', icon: faShieldAlt },\r\n    { id: 'notifications', name: 'Notifications', icon: faBell }\r\n  ];\r\n\r\n  return (\r\n    <div className=\"compact-ui min-h-screen bg-gradient-to-br from-indigo-50 via-white to-purple-50\">\r\n      {/* Header */}\r\n      <header className=\"bg-white border-b\">\r\n        <div className=\"max-w-6xl mx-auto px-6 py-4\">\r\n          <div className=\"flex justify-between items-center\">\r\n            <div className=\"flex items-center gap-4\">\r\n              <div className=\"w-12 h-12 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-full flex items-center justify-center\">\r\n                <FontAwesomeIcon icon={faCog} className=\"text-white text-xl\" />\r\n              </div>\r\n              <div>\r\n                <h1 className=\"text-xl font-semibold text-gray-900\">\r\n                  Settings\r\n                </h1>\r\n                <p className=\"text-gray-600 text-sm\">Manage your account preferences and settings</p>\r\n              </div>\r\n            </div>\r\n            <Link \r\n              to=\"/home\"\r\n              className=\"inline-flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-md text-sm hover:bg-indigo-700\"\r\n            >\r\n              <FontAwesomeIcon icon={faHome} />\r\n              Back to Dashboard\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      </header>\r\n\r\n      <div className=\"max-w-6xl mx-auto p-6\">\r\n        <div className=\"grid gap-6 lg:grid-cols-4\">\r\n          {/* Sidebar Navigation */}\r\n          <div className=\"lg:col-span-1\">\r\n            <div className=\"bg-white border rounded-md p-4\">\r\n              <div className=\"space-y-2\">\r\n                {tabs.map((tab) => (\r\n                  <button\r\n                    key={tab.id}\r\n                    onClick={() => setActiveTab(tab.id)}\r\n                    className={`w-full flex items-center gap-3 px-3 py-2 rounded-md text-sm ${\r\n                      activeTab === tab.id\r\n                        ? 'bg-indigo-600 text-white'\r\n                        : 'text-gray-700 hover:bg-gray-50'\r\n                    }`}\r\n                  >\r\n                    <FontAwesomeIcon icon={tab.icon} className=\"w-5 h-5\" />\r\n                    <span className=\"font-medium\">{tab.name}</span>\r\n                  </button>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Main Content */}\r\n          <div className=\"lg:col-span-3\">\r\n            <div className=\"bg-white border rounded-md p-4\">\r\n              {activeTab === 'profile' && (\r\n                <div className=\"space-y-6\">\r\n                  <div className=\"flex items-center gap-3 mb-6\">\r\n                    <div className=\"w-10 h-10 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-full flex items-center justify-center\">\r\n                      <FontAwesomeIcon icon={faUser} className=\"text-white\" />\r\n                    </div>\r\n                    <h2 className=\"text-lg font-semibold text-gray-900\">Profile Settings</h2>\r\n                  </div>\r\n\r\n                  {/* Profile Picture */}\r\n                  <div className=\"flex items-center gap-4 p-4 bg-white border rounded-md\">\r\n                    <div className=\"relative\">\r\n                      <div className=\"w-24 h-24 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-full flex items-center justify-center overflow-hidden\">\r\n                        {settings.profile.profilePicture ? (\r\n                          <img \r\n                            src={settings.profile.profilePicture} \r\n                            alt=\"Profile\" \r\n                            className=\"w-full h-full object-cover\"\r\n                          />\r\n                        ) : (\r\n                          <FontAwesomeIcon icon={faUser} className=\"text-white text-3xl\" />\r\n                        )}\r\n                      </div>\r\n                      <label className=\"absolute bottom-0 right-0 w-8 h-8 bg-gradient-to-r from-green-500 to-emerald-500 rounded-full flex items-center justify-center cursor-pointer hover:scale-110 transition-transform duration-300\">\r\n                        <FontAwesomeIcon icon={faCamera} className=\"text-white text-sm\" />\r\n                        <input\r\n                          type=\"file\"\r\n                          accept=\"image/*\"\r\n                          onChange={handleProfilePictureChange}\r\n                          className=\"hidden\"\r\n                          disabled={saving}\r\n                        />\r\n                      </label>\r\n                    </div>\r\n                    <div>\r\n                      <h3 className=\"text-sm font-medium text-gray-800\">Profile Picture</h3>\r\n                      <p className=\"text-gray-600 text-xs\">Upload a new profile picture</p>\r\n                      {saving && <p className=\"text-blue-600 text-xs\">Uploading...</p>}\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Profile Form */}\r\n                  <div className=\"grid gap-6 md:grid-cols-2\">\r\n                    <div className=\"space-y-2\">\r\n                      <label className=\"block text-sm font-medium text-gray-700\">Display Name</label>\r\n                      <input\r\n                        type=\"text\"\r\n                        value={settings.profile.displayName}\r\n                        onChange={(e) => handleInputChange('profile', 'displayName', e.target.value)}\r\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-indigo-500\"\r\n                        placeholder=\"Enter your display name\"\r\n                      />\r\n                    </div>\r\n\r\n                    <div className=\"space-y-2\">\r\n                      <label className=\"block text-sm font-medium text-gray-700\">Email Address</label>\r\n                      <input\r\n                        type=\"email\"\r\n                        value={settings.profile.email}\r\n                        onChange={(e) => handleInputChange('profile', 'email', e.target.value)}\r\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-indigo-500\"\r\n                        placeholder=\"Enter your email\"\r\n                      />\r\n                    </div>\r\n\r\n                    <div className=\"space-y-2\">\r\n                      <label className=\"block text-sm font-medium text-gray-700\">Phone Number</label>\r\n                      <input\r\n                        type=\"tel\"\r\n                        value={settings.profile.phone}\r\n                        onChange={(e) => handleInputChange('profile', 'phone', e.target.value)}\r\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-indigo-500\"\r\n                        placeholder=\"Enter your phone number\"\r\n                      />\r\n                    </div>\r\n\r\n                    <div className=\"space-y-2\">\r\n                      <label className=\"block text-sm font-medium text-gray-700\">Department</label>\r\n                      <input\r\n                        type=\"text\"\r\n                        value={settings.profile.department}\r\n                        onChange={(e) => handleInputChange('profile', 'department', e.target.value)}\r\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-indigo-500\"\r\n                        placeholder=\"Enter your department\"\r\n                      />\r\n                    </div>\r\n\r\n                    <div className=\"space-y-2\">\r\n                      <label className=\"block text-sm font-medium text-gray-700\">Designation</label>\r\n                      <input\r\n                        type=\"text\"\r\n                        value={settings.profile.designation}\r\n                        onChange={(e) => handleInputChange('profile', 'designation', e.target.value)}\r\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-indigo-500\"\r\n                        placeholder=\"Enter your designation\"\r\n                      />\r\n                    </div>\r\n\r\n                    <div className=\"space-y-2\">\r\n                      <label className=\"block text-sm font-medium text-gray-700\">Office Location</label>\r\n                      <input\r\n                        type=\"text\"\r\n                        value={settings.profile.officeLocation}\r\n                        onChange={(e) => handleInputChange('profile', 'officeLocation', e.target.value)}\r\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-indigo-500\"\r\n                        placeholder=\"Enter your office location\"\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {activeTab === 'preferences' && (\r\n                <div className=\"space-y-6\">\r\n                  <div className=\"flex items-center gap-3 mb-6\">\r\n                    <div className=\"w-10 h-10 bg-gradient-to-r from-green-500 to-emerald-500 rounded-full flex items-center justify-center\">\r\n                      <FontAwesomeIcon icon={faPalette} className=\"text-white\" />\r\n                    </div>\r\n                    <h2 className=\"text-lg font-semibold text-gray-900\">Preferences</h2>\r\n                  </div>\r\n\r\n                  {/* Theme Settings */}\r\n                  <div className=\"p-4 bg-white border rounded-md\">\r\n                    <h3 className=\"text-sm font-semibold text-gray-800 mb-3\">Theme Settings</h3>\r\n                    <div className=\"grid gap-4 md:grid-cols-3\">\r\n                      {[\r\n                        { id: 'light', name: 'Light', icon: faSun, color: 'from-yellow-400 to-orange-500' },\r\n                        { id: 'dark', name: 'Dark', icon: faMoon, color: 'from-gray-600 to-gray-800' },\r\n                        { id: 'auto', name: 'Auto', icon: faDesktop, color: 'from-blue-500 to-purple-500' }\r\n                      ].map((theme) => (\r\n                        <button\r\n                          key={theme.id}\r\n                          onClick={() => handleThemeChange(theme.id)}\r\n                          className={`p-3 rounded-md border text-sm ${\r\n                            settings.preferences.theme === theme.id ? 'border-indigo-500 bg-indigo-50' : 'border-gray-200 hover:border-gray-300'\r\n                          }`}\r\n                        >\r\n                          <div className={`w-12 h-12 bg-gradient-to-r ${theme.color} rounded-full flex items-center justify-center mx-auto mb-3`}>\r\n                            <FontAwesomeIcon icon={theme.icon} className=\"text-white text-xl\" />\r\n                          </div>\r\n                          <div className=\"text-center\">\r\n                            <div className=\"font-medium text-gray-800\">{theme.name}</div>\r\n                            {settings.preferences.theme === theme.id && (\r\n                              <FontAwesomeIcon icon={faCheckCircle} className=\"text-indigo-500 mt-1\" />\r\n                            )}\r\n                          </div>\r\n                        </button>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Language Settings */}\r\n                  <div className=\"p-4 bg-white border rounded-md\">\r\n                    <h3 className=\"text-sm font-semibold text-gray-800 mb-3\">Language Settings</h3>\r\n                    <div className=\"grid gap-4 md:grid-cols-2\">\r\n                      {[\r\n                        { id: 'en', name: 'English', flag: 'ðŸ‡ºðŸ‡¸' },\r\n                        { id: 'es', name: 'Spanish', flag: 'ðŸ‡ªðŸ‡¸' },\r\n                        { id: 'fr', name: 'French', flag: 'ðŸ‡«ðŸ‡·' },\r\n                        { id: 'de', name: 'German', flag: 'ðŸ‡©ðŸ‡ª' }\r\n                      ].map((lang) => (\r\n                        <button\r\n                          key={lang.id}\r\n                          onClick={() => handleLanguageChange(lang.id)}\r\n                          className={`p-3 rounded-md border text-sm ${\r\n                            settings.preferences.language === lang.id ? 'border-indigo-500 bg-indigo-50' : 'border-gray-200 hover:border-gray-300'\r\n                          }`}\r\n                        >\r\n                          <div className=\"flex items-center gap-3\">\r\n                            <span className=\"text-2xl\">{lang.flag}</span>\r\n                            <span className=\"font-medium text-gray-800\">{lang.name}</span>\r\n                            {settings.preferences.language === lang.id && (\r\n                              <FontAwesomeIcon icon={faCheckCircle} className=\"text-indigo-500 ml-auto\" />\r\n                            )}\r\n                          </div>\r\n                        </button>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Privacy Settings */}\r\n                  <div className=\"p-4 bg-white border rounded-md\">\r\n                    <h3 className=\"text-sm font-semibold text-gray-800 mb-3\">Privacy Settings</h3>\r\n                    <div className=\"space-y-4\">\r\n                      <div className=\"flex items-center justify-between\">\r\n                        <div>\r\n                          <div className=\"font-medium text-gray-800\">Profile Visibility</div>\r\n                          <div className=\"text-sm text-gray-600\">Control who can see your profile</div>\r\n                        </div>\r\n                        <select\r\n                          value={settings.preferences.privacy.profileVisibility}\r\n                          onChange={(e) => handlePrivacyToggle('profileVisibility', e.target.value)}\r\n                          className=\"px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-indigo-500\"\r\n                        >\r\n                          <option value=\"public\">Public</option>\r\n                          <option value=\"private\">Private</option>\r\n                          <option value=\"faculty\">Faculty Only</option>\r\n                        </select>\r\n                      </div>\r\n                      \r\n                      <div className=\"flex items-center justify-between\">\r\n                        <div>\r\n                          <div className=\"font-medium text-gray-800\">Show Email Address</div>\r\n                          <div className=\"text-sm text-gray-600\">Display email in your profile</div>\r\n                        </div>\r\n                        <button\r\n                          onClick={() => handlePrivacyToggle('showEmail', !settings.preferences.privacy.showEmail)}\r\n                          className={`w-12 h-6 rounded-full transition-colors duration-300 ${\r\n                            settings.preferences.privacy.showEmail ? 'bg-indigo-500' : 'bg-gray-300'\r\n                          }`}\r\n                        >\r\n                          <div className={`w-4 h-4 bg-white rounded-full transition-transform duration-300 ${\r\n                            settings.preferences.privacy.showEmail ? 'translate-x-6' : 'translate-x-1'\r\n                          }`} />\r\n                        </button>\r\n                      </div>\r\n\r\n                      <div className=\"flex items-center justify-between\">\r\n                        <div>\r\n                          <div className=\"font-medium text-gray-800\">Show Phone Number</div>\r\n                          <div className=\"text-sm text-gray-600\">Display phone in your profile</div>\r\n                        </div>\r\n                        <button\r\n                          onClick={() => handlePrivacyToggle('showPhone', !settings.preferences.privacy.showPhone)}\r\n                          className={`w-12 h-6 rounded-full transition-colors duration-300 ${\r\n                            settings.preferences.privacy.showPhone ? 'bg-indigo-500' : 'bg-gray-300'\r\n                          }`}\r\n                        >\r\n                          <div className={`w-4 h-4 bg-white rounded-full transition-transform duration-300 ${\r\n                            settings.preferences.privacy.showPhone ? 'translate-x-6' : 'translate-x-1'\r\n                          }`} />\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {activeTab === 'security' && (\r\n                <div className=\"space-y-6\">\r\n                  <div className=\"flex items-center gap-3 mb-6\">\r\n                    <div className=\"w-10 h-10 bg-gradient-to-r from-red-500 to-pink-500 rounded-full flex items-center justify-center\">\r\n                      <FontAwesomeIcon icon={faShieldAlt} className=\"text-white\" />\r\n                    </div>\r\n                    <h2 className=\"text-lg font-semibold text-gray-900\">Security Settings</h2>\r\n                  </div>\r\n\r\n                  {/* Password Settings */}\r\n                  <div className=\"p-4 bg-white border rounded-md\">\r\n                    <h3 className=\"text-sm font-semibold text-gray-800 mb-3\">Password Settings</h3>\r\n                    <div className=\"space-y-4\">\r\n                      <div className=\"space-y-2\">\r\n                        <label className=\"block text-sm font-medium text-gray-700\">Current Password</label>\r\n                        <div className=\"relative\">\r\n                          <input\r\n                            type={showPassword ? 'text' : 'password'}\r\n                            value={passwordData.currentPassword}\r\n                            onChange={(e) => handlePasswordChange('currentPassword', e.target.value)}\r\n                            className=\"w-full px-3 py-2 pr-10 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-indigo-500\"\r\n                            placeholder=\"Enter current password\"\r\n                          />\r\n                          <button\r\n                            onClick={() => setShowPassword(!showPassword)}\r\n                            className=\"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700\"\r\n                          >\r\n                            <FontAwesomeIcon icon={showPassword ? faEyeSlash : faEye} />\r\n                          </button>\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div className=\"space-y-2\">\r\n                        <label className=\"block text-sm font-medium text-gray-700\">New Password</label>\r\n                        <input\r\n                          type=\"password\"\r\n                          value={passwordData.newPassword}\r\n                          onChange={(e) => handlePasswordChange('newPassword', e.target.value)}\r\n                          className=\"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-indigo-500\"\r\n                          placeholder=\"Enter new password\"\r\n                        />\r\n                      </div>\r\n\r\n                      <div className=\"space-y-2\">\r\n                        <label className=\"block text-sm font-medium text-gray-700\">Confirm New Password</label>\r\n                        <input\r\n                          type=\"password\"\r\n                          value={passwordData.confirmPassword}\r\n                          onChange={(e) => handlePasswordChange('confirmPassword', e.target.value)}\r\n                          className=\"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-indigo-500\"\r\n                          placeholder=\"Confirm new password\"\r\n                        />\r\n                      </div>\r\n\r\n                      <button \r\n                        onClick={handleChangePassword}\r\n                        disabled={saving || !passwordData.currentPassword || !passwordData.newPassword || !passwordData.confirmPassword}\r\n                        className=\"inline-flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-md text-sm hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                      >\r\n                        <FontAwesomeIcon icon={faKey} />\r\n                        {saving ? 'Changing Password...' : 'Change Password'}\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Two-Factor Authentication */}\r\n                  <div className=\"p-4 bg-white border rounded-md\">\r\n                    <div className=\"flex items-center justify-between\">\r\n                      <div>\r\n                        <h3 className=\"text-lg font-semibold text-gray-800\">Two-Factor Authentication</h3>\r\n                        <p className=\"text-sm text-gray-600\">Add an extra layer of security to your account</p>\r\n                      </div>\r\n                      <button\r\n                        onClick={() => handleSecurityToggle('twoFactorAuth', !settings.security.twoFactorAuth)}\r\n                        className={`w-12 h-6 rounded-full transition-colors duration-300 ${\r\n                          settings.security.twoFactorAuth ? 'bg-indigo-500' : 'bg-gray-300'\r\n                        }`}\r\n                      >\r\n                        <div className={`w-4 h-4 bg-white rounded-full transition-transform duration-300 ${\r\n                          settings.security.twoFactorAuth ? 'translate-x-6' : 'translate-x-1'\r\n                        }`} />\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Session Settings */}\r\n                  <div className=\"p-4 bg-white border rounded-md\">\r\n                    <h3 className=\"text-sm font-semibold text-gray-800 mb-3\">Session Settings</h3>\r\n                    <div className=\"space-y-4\">\r\n                      <div className=\"flex items-center justify-between\">\r\n                        <div>\r\n                          <div className=\"font-medium text-gray-800\">Session Timeout</div>\r\n                          <div className=\"text-sm text-gray-600\">Auto-logout after inactivity</div>\r\n                        </div>\r\n                        <select\r\n                          value={settings.security.sessionTimeout}\r\n                          onChange={(e) => handleSecurityToggle('sessionTimeout', parseInt(e.target.value))}\r\n                          className=\"px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-indigo-500\"\r\n                        >\r\n                          <option value={15}>15 minutes</option>\r\n                          <option value={30}>30 minutes</option>\r\n                          <option value={60}>1 hour</option>\r\n                          <option value={120}>2 hours</option>\r\n                        </select>\r\n                      </div>\r\n\r\n                      <div className=\"flex items-center justify-between\">\r\n                        <div>\r\n                          <div className=\"font-medium text-gray-800\">Password Expiry</div>\r\n                          <div className=\"text-sm text-gray-600\">Days until password expires</div>\r\n                        </div>\r\n                        <select\r\n                          value={settings.security.passwordExpiry}\r\n                          onChange={(e) => handleSecurityToggle('passwordExpiry', parseInt(e.target.value))}\r\n                          className=\"px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-indigo-500\"\r\n                        >\r\n                          <option value={30}>30 days</option>\r\n                          <option value={60}>60 days</option>\r\n                          <option value={90}>90 days</option>\r\n                          <option value={180}>180 days</option>\r\n                        </select>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {activeTab === 'notifications' && (\r\n                <div className=\"space-y-6\">\r\n                  <div className=\"flex items-center gap-3 mb-6\">\r\n                    <div className=\"w-10 h-10 bg-gradient-to-r from-yellow-500 to-orange-500 rounded-full flex items-center justify-center\">\r\n                      <FontAwesomeIcon icon={faBell} className=\"text-white\" />\r\n                    </div>\r\n                    <h2 className=\"text-lg font-semibold text-gray-900\">Notification Settings</h2>\r\n                  </div>\r\n\r\n                  {/* Notification Channels */}\r\n                  <div className=\"p-4 bg-white border rounded-md\">\r\n                    <h3 className=\"text-sm font-semibold text-gray-800 mb-3\">Notification Channels</h3>\r\n                    <div className=\"space-y-4\">\r\n                      <div className=\"flex items-center justify-between\">\r\n                        <div>\r\n                          <div className=\"font-medium text-gray-800\">Email Notifications</div>\r\n                          <div className=\"text-sm text-gray-600\">Receive notifications via email</div>\r\n                        </div>\r\n                        <button\r\n                          onClick={() => handleNotificationToggle('email', !settings.preferences.notifications.email)}\r\n                          className={`w-12 h-6 rounded-full transition-colors duration-300 ${\r\n                            settings.preferences.notifications.email ? 'bg-indigo-500' : 'bg-gray-300'\r\n                          }`}\r\n                        >\r\n                          <div className={`w-4 h-4 bg-white rounded-full transition-transform duration-300 ${\r\n                            settings.preferences.notifications.email ? 'translate-x-6' : 'translate-x-1'\r\n                          }`} />\r\n                        </button>\r\n                      </div>\r\n\r\n                      <div className=\"flex items-center justify-between\">\r\n                        <div>\r\n                          <div className=\"font-medium text-gray-800\">Push Notifications</div>\r\n                          <div className=\"text-sm text-gray-600\">Receive push notifications</div>\r\n                        </div>\r\n                        <button\r\n                          onClick={() => handleNotificationToggle('push', !settings.preferences.notifications.push)}\r\n                          className={`w-12 h-6 rounded-full transition-colors duration-300 ${\r\n                            settings.preferences.notifications.push ? 'bg-indigo-500' : 'bg-gray-300'\r\n                          }`}\r\n                        >\r\n                          <div className={`w-4 h-4 bg-white rounded-full transition-transform duration-300 ${\r\n                            settings.preferences.notifications.push ? 'translate-x-6' : 'translate-x-1'\r\n                          }`} />\r\n                        </button>\r\n                      </div>\r\n\r\n                      <div className=\"flex items-center justify-between\">\r\n                        <div>\r\n                          <div className=\"font-medium text-gray-800\">SMS Notifications</div>\r\n                          <div className=\"text-sm text-gray-600\">Receive SMS notifications</div>\r\n                        </div>\r\n                        <button\r\n                          onClick={() => handleNotificationToggle('sms', !settings.preferences.notifications.sms)}\r\n                          className={`w-12 h-6 rounded-full transition-colors duration-300 ${\r\n                            settings.preferences.notifications.sms ? 'bg-indigo-500' : 'bg-gray-300'\r\n                          }`}\r\n                        >\r\n                          <div className={`w-4 h-4 bg-white rounded-full transition-transform duration-300 ${\r\n                            settings.preferences.notifications.sms ? 'translate-x-6' : 'translate-x-1'\r\n                          }`} />\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* Save Button */}\r\n              <div className=\"flex justify-end pt-4 border-t border-gray-200\">\r\n                <button\r\n                  onClick={handleSaveSettings}\r\n                  disabled={saving}\r\n                  className=\"inline-flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-md text-sm hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                >\r\n                  <FontAwesomeIcon icon={saving ? faSync : faSave} className={saving ? 'animate-spin' : ''} />\r\n                  {saving ? 'Saving...' : 'Save Settings'}\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Settings;\r\n\r\n\r\n"],"names":["Settings","loading","setLoading","useState","saving","setSaving","error","setError","user","setUser","activeTab","setActiveTab","showPassword","setShowPassword","passwordData","setPasswordData","settings","setSettings","useEffect","onAuthStateChanged","auth","userSettingsRef","doc","db","userSettingsDoc","getDoc","existingSettings","prev","defaultSettings","setDoc","err","handleInputChange","section","field","value","handleNestedChange","subsection","handlePasswordChange","handleSaveSettings","toast","updateDoc","handleChangePassword","credential","EmailAuthProvider","reauthenticateWithCredential","updatePassword","handleProfilePictureChange","event","file","storageRef","ref","storage","snapshot","uploadBytes","downloadURL","getDownloadURL","updatedSettings","handleThemeChange","theme","prefersDark","handleLanguageChange","language","handleNotificationToggle","type","handlePrivacyToggle","handleSecurityToggle","jsxs","jsx","_","i","FontAwesomeIcon","faExclamationTriangle","tabs","faUser","faPalette","faShieldAlt","faBell","faCog","Link","faHome","tab","faCamera","e","faSun","faMoon","faDesktop","faCheckCircle","lang","faEyeSlash","faEye","faKey","faSync","faSave"],"mappings":"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"}